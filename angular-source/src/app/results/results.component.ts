import { Component, OnInit, ViewChild } from '@angular/core';
import { ActivatedRoute } from '@angular/router';
import { HttpClient } from '@angular/common/http';
import { forkJoin } from 'rxjs';
// import { TabsComponent } from './tabs/tabs.component';
// import { TabModule } from 'angular-tabs-component';
import { TabsetComponent } from 'ngx-bootstrap/tabs';
import { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';
import { BsModalService } from 'ngx-bootstrap/modal';
import { DailyModalComponent } from '../daily-modal/daily-modal.component';

@Component({
  selector: 'app-results',
  templateUrl: './results.component.html',
  styleUrls: ['./results.component.css']
})
export class ResultsComponent implements OnInit {
  constructor(
    private activatedRoute: ActivatedRoute,
    private http: HttpClient,
    private modalService: BsModalService
  ) {}

  @(ViewChild as any)('tabset') tabset: TabsetComponent;

  cur_temp;
  cur_city;
  cur_tz;
  cur_status;
  cur_humidity;
  cur_pressure;
  cur_wind;
  cur_visibility;
  cur_cloud;
  cur_ozone;


  twitter;
  tweet;
  favorite;
  wishlist;

  stateCode;
  prog_bar;
  seal;
  current;
  hourly;
  weekly;

  modalRef: BsModalRef;
  
  weatherSelect = { name: 'Temperature', value: 'temperature', units: 'Farenheit', scalefactor: 1};
  weather_array: any[] = [
    { name: 'Temperature', value: 'temperature', units: 'Farenheit', scalefactor: 1},
    { name: 'Pressure', value: 'pressure', units: 'Millibars', scalefactor: 1},
    { name: 'Humidity', value: 'humidity', units: '% Humidity', scalefactor: 100},
    { name: 'Ozone', value: 'ozone', units: 'Dobson Units', scalefactor: 1},
    { name: 'Visibility', value: 'visibility', units: 'Miles (Maximum 10)', scalefactor: 1},
    { name: 'Wind Speed', value: 'windSpeed', units: 'Miles Per Hour', scalefactor: 1}
  ];

  // Hourly chart
  hr_title;
  hr_data;
  hr_labels;
  hr_legend;
  hr_type;
  hr_options = {
    scaleShowVerticalLines: false,
    responsive: true,
    scales: {
      xAxes: [{
        display: true,
        scaleLabel: {
          display: true,
          labelString: 'Time difference from current hour'
        }
      }],
      yAxes: [{
        display: true,
        scaleLabel: {
          display: true,
          labelString: 'Farenheit'
        }
      }]
    }
  };

      
  // yoyo = this;
  yoyo = 'blahhhh'

  // Weekly chart
  openModal_function;
  wk_data;
  wk_labels;
  wk_legend;
  wk_type;
  wk_title;
  wk_options = {
    scaleShowVerticalLines: false,
    responsive: true,
    scales: {
      xAxes: [{
        display: true,
        scaleLabel: {
          display: true,
          labelString: 'Temperature in Farenheit'
        }
      }],
      yAxes: [{
        display: true,
        scaleLabel: {
          display: true,
          labelString: 'Days'
        }
      }]
    },
    tooltips: {
      callbacks: {
            title: function(tooltipItems, data) {
              return '';
            },
            label: function(tooltipItem, data) {
              return data.labels[tooltipItem.index] + ": " + Math.round(data.datasets[0].data[tooltipItem.index][0]) + " to " + Math.round(data.datasets[0].data[tooltipItem.index][1]);
            }
          }
    },    
  };

  // AIzaSyBRnWd49kEXgp9sf2bJ2xP0xz4KEDVKgKs = API key for custom search
  // cx = 015445644856242596630:frbn8uolt9t
  // https://www.googleapis.com/customsearch/v1?q=[STATE]%20State%20Seal&cx=[YOUR_SEARCH_ENGINE_ID]&imgSize=huge&imgType=news&num=1&searchType=image&key=[YOUR_API_KEY]
  // https://www.googleapis.com/customsearch/v1?q=CA%20State%20Seal&cx=015445644856242596630:frbn8uolt9t&imgSize=huge&imgType=news&num=1&searchType=image&key=AIzaSyBRnWd49kEXgp9sf2bJ2xP0xz4KEDVKgKs

  makeChart(){
    this.hr_options = {
      scaleShowVerticalLines: false,
      responsive: true,
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Time difference from current hour'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: this.weatherSelect['units']
          }
        }]
      }
    };

    this.hr_type = 'bar';
    this.hr_legend = true;
    this.hr_labels = []
    this.hr_title = this.weatherSelect['name'];
    var data_array = [];
    var i;
    for (i = 0; i < 24; i++) {
      var value = JSON.parse(sessionStorage.current)['hourly']['data'][i][this.weatherSelect['value']]*this.weatherSelect['scalefactor']
      this.hr_labels.push(String(i))
      data_array.push(value);
    }
    this.hr_data = [
      {data: data_array, label: this.weatherSelect['name']}
    ];
  }

  makeWeeklyChart(){
    this.wk_type = 'horizontalBar';
    this.wk_legend = true;
    this.wk_labels = []
    this.wk_title = this.weatherSelect['name'];
    this.wk_data = []
    var data_array = [];
    var i;
    for (i = 0; i < 7; i++) {
      var day = "day" + String(i)
      var time = JSON.parse(sessionStorage.getItem(day))['currently']['time']
      var t_low = JSON.parse(sessionStorage.getItem(day))['daily']['data'][0]['temperatureLow']
      var t_high = JSON.parse(sessionStorage.getItem(day))['daily']['data'][0]['temperatureHigh']
      var date_obj = new Date(time * 1000);
      var d = date_obj.getDate();
      var m = date_obj.getMonth();
      var y = date_obj.getFullYear();
      var date = String(m) + '/' + String(d) + '/' + String(y);      
      this.wk_labels.push(date)
      data_array.push([t_low, t_high]);
    }

    this.wk_data = [
      {data: data_array, label: 'Day wise temperature range'}
    ];        
  }

  
  openModal = (info) => {
    this.modalRef = this.modalService.show(DailyModalComponent,  {
      initialState: {
        title: info['date'],
        city: info['city'],
        temp: info['temp'],
        status: info['status'],
        icon: info['icon'],
        precip: info['precip'],
        rainchance: info['chance'],
        wind: info['wind'],
        humidity: info['humidity'],
        visibility: info['visibility'],
        data: {}
      }
    });
  }

  // seriesSelected(selectedItem) {
  //   console.log(selectedItem)
  // }

  // selectHandler(selectedItem) {
  //   console.log(selectedItem)
  //   alert('A table row was selected');
  // }

  weatherHTTP(weatherApiUrl, state_code) {
    // this.prog_bar = true;
    // const url = `http://localhost:8081/http_req?url=${weatherApiUrl}`;
    const url = `http_req?url=${weatherApiUrl}`;
    
    // console.log(url)

    var t_day0 = Math.round(new Date().getTime() / 1000); // today
    var t_day1 = t_day0 + 1 * 24 * 60 * 60;
    var t_day2 = t_day0 + 2 * 24 * 60 * 60;
    var t_day3 = t_day0 + 3 * 24 * 60 * 60;
    var t_day4 = t_day0 + 4 * 24 * 60 * 60;
    var t_day5 = t_day0 + 5 * 24 * 60 * 60;
    var t_day6 = t_day0 + 6 * 24 * 60 * 60;

    // note location right now is localhost8081, but will probably have to change to URL on AWS
    let current = this.http.get(url);
    let day0 = this.http.get(`${url},${String(t_day0)}`);
    let day1 = this.http.get(`${url},${String(t_day1)}`);
    let day2 = this.http.get(`${url},${String(t_day2)}`);
    let day3 = this.http.get(`${url},${String(t_day3)}`);
    let day4 = this.http.get(`${url},${String(t_day4)}`);
    let day5 = this.http.get(`${url},${String(t_day5)}`);
    let day6 = this.http.get(`${url},${String(t_day6)}`);
    // console.log(state_code)
    // var seal_url = `http://localhost:8081/http_req?url=https://www.googleapis.com/customsearch/v1?q=${String(state_code)}%20State%20Seal%26cx=015445644856242596630:frbn8uolt9t%26imgSize=huge%26imgType=news%26num=1%26searchType=image%26key=AIzaSyBDublwvjEnfwS2njzo9L__2fF3ZZ0w_IY`
    var seal_url = `http_req?url=https://www.googleapis.com/customsearch/v1?q=${String(state_code)}%20State%20Seal%26cx=015445644856242596630:frbn8uolt9t%26imgSize=huge%26num=1%26searchType=image%26key=AIzaSyBDublwvjEnfwS2njzo9L__2fF3ZZ0w_IY`
    // return this.http.get(seal_url).toPromise().then(result => console.log('result', result))

    // SET THIS BACK SEPT
    console.log('check this seal url')
    console.log(seal_url)
    var seal = this.http.get(seal_url);
    // var seal = 'yo'
    
    return forkJoin([
      current,
      day0,
      day1,
      day2,
      day3,
      day4,
      day5,
      day6,
      seal
    ])
    .toPromise()
    .then(results => {
      // console.log('results', results);
      sessionStorage.setItem('current', JSON.stringify(results[0])); // could be localStorage.setItem(...);
      sessionStorage.setItem('day0', JSON.stringify(results[1]));
      sessionStorage.setItem('day1', JSON.stringify(results[2]));
      sessionStorage.setItem('day2', JSON.stringify(results[3]));
      sessionStorage.setItem('day3', JSON.stringify(results[4]));
      sessionStorage.setItem('day4', JSON.stringify(results[5]));
      sessionStorage.setItem('day5', JSON.stringify(results[6]));
      sessionStorage.setItem('day6', JSON.stringify(results[7]));
      // console.log(results[0]);
      // sessionStorage.setItem('seal', JSON.stringify(results[0])); // NEED TO MAKE FIRST 0 AN 8
      // sessionStorage.setItem('seal', JSON.stringify(results[0]['items'][0]['link'])); // NEED TO MAKE FIRST 0 AN 8
      
      // SET THIS BACK SEPT
      sessionStorage.setItem('seal', String(results[8]['items'][0]['link'])); // NEED TO MAKE FIRST 0 AN 8
      // sessionStorage.setItem('seal', 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Seal_of_New_York.svg/2000px-Seal_of_New_York.svg.png');
      // this.prog_bar = false;
    });
  }

  async getWeather(weatherApiUrl, state_code) {
    this.prog_bar = true;
    // console.log(state_code)
    // console.log('before weatherHTTP')
    // REAL VALUE BUT MAXES OUT API CALLS DURING DEBUGGING
    // await this.weatherHTTP(weatherApiUrl, state_code);
    
    // console.log('after weatherHTTP')


    // HARDCODED JSON FOR TESTING
    // LA https://api.darksky.net/forecast/52431f2a8bae2608e2e97cf1e1cf199c/34.0308,-118.473
    // TIME FOR CURRENT JSON OBJ 1573935180
    var json_current = `{"latitude":34.0308,"longitude":-118.473,"timezone":"America/Los_Angeles","currently":{"time":1573935197,"summary":"Clear","icon":"clear-day","nearestStormDistance":474,"nearestStormBearing":32,"precipIntensity":0,"precipProbability":0,"temperature":75.41,"apparentTemperature":75.41,"dewPoint":50.71,"humidity":0.42,"pressure":1014,"windSpeed":2.79,"windGust":6.74,"windBearing":231,"cloudCover":0,"uvIndex":4,"visibility":5.414,"ozone":287.5},"minutely":{"summary":"Clear for the hour.","icon":"clear-day","data":[{"time":1573935180,"precipIntensity":0,"precipProbability":0},{"time":1573935240,"precipIntensity":0,"precipProbability":0},{"time":1573935300,"precipIntensity":0,"precipProbability":0},{"time":1573935360,"precipIntensity":0,"precipProbability":0},{"time":1573935420,"precipIntensity":0,"precipProbability":0},{"time":1573935480,"precipIntensity":0,"precipProbability":0},{"time":1573935540,"precipIntensity":0,"precipProbability":0},{"time":1573935600,"precipIntensity":0,"precipProbability":0},{"time":1573935660,"precipIntensity":0,"precipProbability":0},{"time":1573935720,"precipIntensity":0,"precipProbability":0},{"time":1573935780,"precipIntensity":0,"precipProbability":0},{"time":1573935840,"precipIntensity":0,"precipProbability":0},{"time":1573935900,"precipIntensity":0,"precipProbability":0},{"time":1573935960,"precipIntensity":0,"precipProbability":0},{"time":1573936020,"precipIntensity":0,"precipProbability":0},{"time":1573936080,"precipIntensity":0,"precipProbability":0},{"time":1573936140,"precipIntensity":0,"precipProbability":0},{"time":1573936200,"precipIntensity":0,"precipProbability":0},{"time":1573936260,"precipIntensity":0,"precipProbability":0},{"time":1573936320,"precipIntensity":0,"precipProbability":0},{"time":1573936380,"precipIntensity":0,"precipProbability":0},{"time":1573936440,"precipIntensity":0,"precipProbability":0},{"time":1573936500,"precipIntensity":0,"precipProbability":0},{"time":1573936560,"precipIntensity":0,"precipProbability":0},{"time":1573936620,"precipIntensity":0,"precipProbability":0},{"time":1573936680,"precipIntensity":0,"precipProbability":0},{"time":1573936740,"precipIntensity":0,"precipProbability":0},{"time":1573936800,"precipIntensity":0,"precipProbability":0},{"time":1573936860,"precipIntensity":0,"precipProbability":0},{"time":1573936920,"precipIntensity":0,"precipProbability":0},{"time":1573936980,"precipIntensity":0,"precipProbability":0},{"time":1573937040,"precipIntensity":0,"precipProbability":0},{"time":1573937100,"precipIntensity":0,"precipProbability":0},{"time":1573937160,"precipIntensity":0,"precipProbability":0},{"time":1573937220,"precipIntensity":0,"precipProbability":0},{"time":1573937280,"precipIntensity":0,"precipProbability":0},{"time":1573937340,"precipIntensity":0,"precipProbability":0},{"time":1573937400,"precipIntensity":0,"precipProbability":0},{"time":1573937460,"precipIntensity":0,"precipProbability":0},{"time":1573937520,"precipIntensity":0,"precipProbability":0},{"time":1573937580,"precipIntensity":0,"precipProbability":0},{"time":1573937640,"precipIntensity":0,"precipProbability":0},{"time":1573937700,"precipIntensity":0,"precipProbability":0},{"time":1573937760,"precipIntensity":0,"precipProbability":0},{"time":1573937820,"precipIntensity":0,"precipProbability":0},{"time":1573937880,"precipIntensity":0,"precipProbability":0},{"time":1573937940,"precipIntensity":0,"precipProbability":0},{"time":1573938000,"precipIntensity":0,"precipProbability":0},{"time":1573938060,"precipIntensity":0,"precipProbability":0},{"time":1573938120,"precipIntensity":0,"precipProbability":0},{"time":1573938180,"precipIntensity":0,"precipProbability":0},{"time":1573938240,"precipIntensity":0,"precipProbability":0},{"time":1573938300,"precipIntensity":0,"precipProbability":0},{"time":1573938360,"precipIntensity":0,"precipProbability":0},{"time":1573938420,"precipIntensity":0,"precipProbability":0},{"time":1573938480,"precipIntensity":0,"precipProbability":0},{"time":1573938540,"precipIntensity":0,"precipProbability":0},{"time":1573938600,"precipIntensity":0,"precipProbability":0},{"time":1573938660,"precipIntensity":0,"precipProbability":0},{"time":1573938720,"precipIntensity":0,"precipProbability":0},{"time":1573938780,"precipIntensity":0,"precipProbability":0}]},"hourly":{"summary":"Clear throughout the day.","icon":"clear-day","data":[{"time":1573934400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":74.99,"apparentTemperature":74.99,"dewPoint":50.69,"humidity":0.43,"pressure":1014.2,"windSpeed":2.74,"windGust":6.64,"windBearing":228,"cloudCover":0,"uvIndex":4,"visibility":5.35,"ozone":287.2},{"time":1573938000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.75,"apparentTemperature":76.75,"dewPoint":51.02,"humidity":0.41,"pressure":1013.6,"windSpeed":3.01,"windGust":7.13,"windBearing":242,"cloudCover":0,"uvIndex":3,"visibility":6.361,"ozone":288.2},{"time":1573941600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.66,"apparentTemperature":76.66,"dewPoint":52.85,"humidity":0.44,"pressure":1013.5,"windSpeed":4.53,"windGust":9.23,"windBearing":258,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":288.5},{"time":1573945200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.04,"apparentTemperature":76.04,"dewPoint":54.3,"humidity":0.47,"pressure":1013.6,"windSpeed":5.99,"windGust":11.36,"windBearing":265,"cloudCover":0,"uvIndex":1,"visibility":10,"ozone":288.3},{"time":1573948800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":74.76,"apparentTemperature":74.76,"dewPoint":54.42,"humidity":0.49,"pressure":1013.4,"windSpeed":6.67,"windGust":12.46,"windBearing":257,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":287.3},{"time":1573952400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":71.89,"apparentTemperature":71.89,"dewPoint":53.9,"humidity":0.53,"pressure":1013.8,"windSpeed":5.75,"windGust":10.11,"windBearing":196,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":285.3},{"time":1573956000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":69.31,"apparentTemperature":69.31,"dewPoint":52.46,"humidity":0.55,"pressure":1014.3,"windSpeed":5.35,"windGust":8.64,"windBearing":94,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":282.5},{"time":1573959600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":67.06,"apparentTemperature":67.06,"dewPoint":52.04,"humidity":0.59,"pressure":1014.7,"windSpeed":4.02,"windGust":4.28,"windBearing":33,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":280},{"time":1573963200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":65.02,"apparentTemperature":65.02,"dewPoint":51.46,"humidity":0.61,"pressure":1015.1,"windSpeed":4.72,"windGust":5.22,"windBearing":22,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":278.3},{"time":1573966800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.09,"apparentTemperature":64.09,"dewPoint":50.89,"humidity":0.62,"pressure":1015.7,"windSpeed":4.41,"windGust":4.65,"windBearing":22,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":276.7},{"time":1573970400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.19,"apparentTemperature":63.19,"dewPoint":50.61,"humidity":0.64,"pressure":1016.1,"windSpeed":5.16,"windGust":5.82,"windBearing":37,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":275.4},{"time":1573974000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":62.16,"apparentTemperature":62.16,"dewPoint":49.76,"humidity":0.64,"pressure":1016.1,"windSpeed":5.84,"windGust":6.81,"windBearing":28,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":274.6},{"time":1573977600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":61.88,"apparentTemperature":61.88,"dewPoint":48.79,"humidity":0.62,"pressure":1015.7,"windSpeed":5.77,"windGust":6.1,"windBearing":21,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":274},{"time":1573981200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":61.75,"apparentTemperature":61.75,"dewPoint":47.09,"humidity":0.59,"pressure":1015.6,"windSpeed":5.81,"windGust":6.12,"windBearing":26,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":273.2},{"time":1573984800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.76,"apparentTemperature":64.76,"dewPoint":36.36,"humidity":0.35,"pressure":1015.5,"windSpeed":6.97,"windGust":8,"windBearing":12,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":271.8},{"time":1573988400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.22,"apparentTemperature":64.22,"dewPoint":36,"humidity":0.35,"pressure":1015.5,"windSpeed":7.59,"windGust":8.98,"windBearing":15,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":270.3},{"time":1573992000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.08,"apparentTemperature":64.08,"dewPoint":35.87,"humidity":0.35,"pressure":1015.5,"windSpeed":8.05,"windGust":9.77,"windBearing":17,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":268.9},{"time":1573995600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.62,"apparentTemperature":63.62,"dewPoint":35.87,"humidity":0.36,"pressure":1015.7,"windSpeed":8.21,"windGust":10.27,"windBearing":18,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":268},{"time":1573999200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.41,"apparentTemperature":63.41,"dewPoint":35.94,"humidity":0.36,"pressure":1015.8,"windSpeed":8.2,"windGust":10.6,"windBearing":21,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":267.3},{"time":1574002800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":64.6,"apparentTemperature":64.6,"dewPoint":36.34,"humidity":0.35,"pressure":1015.9,"windSpeed":8.02,"windGust":10.81,"windBearing":22,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":266.6},{"time":1574006400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":67.76,"apparentTemperature":67.76,"dewPoint":37.19,"humidity":0.32,"pressure":1016.1,"windSpeed":7.61,"windGust":11,"windBearing":21,"cloudCover":0,"uvIndex":1,"visibility":10,"ozone":265.8},{"time":1574010000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":72.11,"apparentTemperature":72.11,"dewPoint":37.98,"humidity":0.29,"pressure":1016.3,"windSpeed":7.06,"windGust":11.06,"windBearing":19,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":265},{"time":1574013600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.27,"apparentTemperature":76.27,"dewPoint":37.93,"humidity":0.25,"pressure":1016.3,"windSpeed":6.51,"windGust":10.66,"windBearing":23,"cloudCover":0,"uvIndex":3,"visibility":10,"ozone":264.1},{"time":1574017200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":79.81,"apparentTemperature":79.81,"dewPoint":36.55,"humidity":0.21,"pressure":1015.9,"windSpeed":6.09,"windGust":9.34,"windBearing":35,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":262.8},{"time":1574020800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":82.99,"apparentTemperature":82.99,"dewPoint":34.54,"humidity":0.18,"pressure":1015.1,"windSpeed":5.67,"windGust":7.59,"windBearing":46,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":261.6},{"time":1574024400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":84.94,"apparentTemperature":84.94,"dewPoint":32.93,"humidity":0.15,"pressure":1014.7,"windSpeed":5.33,"windGust":6.48,"windBearing":27,"cloudCover":0,"uvIndex":3,"visibility":10,"ozone":260.9},{"time":1574028000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":84.67,"apparentTemperature":84.67,"dewPoint":33.74,"humidity":0.16,"pressure":1014.4,"windSpeed":5.14,"windGust":6.81,"windBearing":3,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":261.5},{"time":1574031600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":83,"apparentTemperature":83,"dewPoint":35.57,"humidity":0.18,"pressure":1014.1,"windSpeed":5.06,"windGust":7.88,"windBearing":333,"cloudCover":0,"uvIndex":1,"visibility":10,"ozone":262.6},{"time":1574035200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":80.66,"apparentTemperature":80.66,"dewPoint":36.58,"humidity":0.21,"pressure":1014,"windSpeed":5.06,"windGust":8.39,"windBearing":316,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.4},{"time":1574038800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":78.15,"apparentTemperature":78.15,"dewPoint":36.02,"humidity":0.22,"pressure":1014.1,"windSpeed":4.99,"windGust":7.53,"windBearing":346,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.5},{"time":1574042400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":75.07,"apparentTemperature":75.07,"dewPoint":34.85,"humidity":0.23,"pressure":1014.5,"windSpeed":4.93,"windGust":6.07,"windBearing":18,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.2},{"time":1574046000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":72.82,"apparentTemperature":72.82,"dewPoint":33.87,"humidity":0.24,"pressure":1014.8,"windSpeed":5.02,"windGust":5.21,"windBearing":9,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.2},{"time":1574049600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":71.37,"apparentTemperature":71.37,"dewPoint":31.92,"humidity":0.23,"pressure":1015,"windSpeed":5.44,"windGust":5.5,"windBearing":10,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.5},{"time":1574053200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":70.12,"apparentTemperature":70.12,"dewPoint":29.54,"humidity":0.22,"pressure":1015.2,"windSpeed":6.02,"windGust":6.42,"windBearing":16,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":264},{"time":1574056800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":68.93,"apparentTemperature":68.93,"dewPoint":27.55,"humidity":0.21,"pressure":1015.3,"windSpeed":6.51,"windGust":7.19,"windBearing":21,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":264.2},{"time":1574060400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":67.81,"apparentTemperature":67.81,"dewPoint":26.49,"humidity":0.21,"pressure":1015.3,"windSpeed":6.75,"windGust":7.47,"windBearing":21,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.5},{"time":1574064000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":66.78,"apparentTemperature":66.78,"dewPoint":25.72,"humidity":0.21,"pressure":1015,"windSpeed":6.87,"windGust":7.58,"windBearing":19,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.5},{"time":1574067600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":65.97,"apparentTemperature":65.97,"dewPoint":25.28,"humidity":0.21,"pressure":1014.7,"windSpeed":7.01,"windGust":7.66,"windBearing":18,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":261.9},{"time":1574071200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":65.39,"apparentTemperature":65.39,"dewPoint":24.76,"humidity":0.21,"pressure":1014.3,"windSpeed":7.15,"windGust":7.81,"windBearing":18,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.2},{"time":1574074800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.53,"apparentTemperature":64.53,"dewPoint":24.59,"humidity":0.22,"pressure":1014,"windSpeed":7.29,"windGust":7.93,"windBearing":17,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.9},{"time":1574078400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.19,"apparentTemperature":64.19,"dewPoint":24.72,"humidity":0.22,"pressure":1013.9,"windSpeed":7.38,"windGust":8,"windBearing":17,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.4},{"time":1574082000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.48,"apparentTemperature":63.48,"dewPoint":25.17,"humidity":0.23,"pressure":1014,"windSpeed":7.48,"windGust":8.1,"windBearing":15,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.2},{"time":1574085600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.01,"apparentTemperature":63.01,"dewPoint":25.7,"humidity":0.24,"pressure":1014.1,"windSpeed":7.52,"windGust":8.14,"windBearing":15,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.7},{"time":1574089200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":63.99,"apparentTemperature":63.99,"dewPoint":26.86,"humidity":0.24,"pressure":1014.3,"windSpeed":7.16,"windGust":7.82,"windBearing":14,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.6},{"time":1574092800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":67.36,"apparentTemperature":67.36,"dewPoint":28.69,"humidity":0.23,"pressure":1014.3,"windSpeed":6.03,"windGust":6.78,"windBearing":9,"cloudCover":0,"uvIndex":1,"visibility":10,"ozone":263.1},{"time":1574096400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":72.27,"apparentTemperature":72.27,"dewPoint":30.65,"humidity":0.21,"pressure":1014.3,"windSpeed":4.52,"windGust":5.39,"windBearing":0,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":264},{"time":1574100000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.65,"apparentTemperature":76.65,"dewPoint":31.76,"humidity":0.19,"pressure":1014,"windSpeed":3.48,"windGust":4.42,"windBearing":12,"cloudCover":0,"uvIndex":3,"visibility":10,"ozone":264.7},{"time":1574103600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":79.78,"apparentTemperature":79.78,"dewPoint":31.3,"humidity":0.17,"pressure":1013.4,"windSpeed":3.25,"windGust":4.12,"windBearing":69,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":264.7},{"time":1574107200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":82.21,"apparentTemperature":82.21,"dewPoint":30.16,"humidity":0.15,"pressure":1012.3,"windSpeed":3.46,"windGust":4.22,"windBearing":167,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":264.5}]},"daily":{"summary":"Light rain on Wednesday and Thursday.","icon":"rain","data":[{"time":1573891200,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1573914540,"sunsetTime":1573951860,"moonPhase":0.65,"precipIntensity":0.0004,"precipIntensityMax":0.0019,"precipIntensityMaxTime":1573977000,"precipProbability":0.07,"precipType":"rain","temperatureHigh":77.38,"temperatureHighTime":1573939200,"temperatureLow":61.07,"temperatureLowTime":1573980120,"apparentTemperatureHigh":76.88,"apparentTemperatureHighTime":1573939200,"apparentTemperatureLow":61.56,"apparentTemperatureLowTime":1573980120,"dewPoint":49.77,"humidity":0.57,"pressure":1014.8,"windSpeed":3.57,"windGust":12.49,"windGustTime":1573948380,"windBearing":319,"cloudCover":0,"uvIndex":4,"uvIndexTime":1573933080,"visibility":7.612,"ozone":284.2,"temperatureMin":56.15,"temperatureMinTime":1573898520,"temperatureMax":77.38,"temperatureMaxTime":1573939200,"apparentTemperatureMin":56.64,"apparentTemperatureMinTime":1573898520,"apparentTemperatureMax":76.88,"apparentTemperatureMaxTime":1573939200},{"time":1573977600,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1574001000,"sunsetTime":1574038260,"moonPhase":0.69,"precipIntensity":0,"precipIntensityMax":0,"precipIntensityMaxTime":1573977600,"precipProbability":0,"temperatureHigh":85.56,"temperatureHighTime":1574025540,"temperatureLow":62.51,"temperatureLowTime":1574085240,"apparentTemperatureHigh":85.06,"apparentTemperatureHighTime":1574025540,"apparentTemperatureLow":63,"apparentTemperatureLowTime":1574085240,"dewPoint":35.16,"humidity":0.28,"pressure":1015.2,"windSpeed":6.35,"windGust":11.08,"windGustTime":1574009100,"windBearing":17,"cloudCover":0,"uvIndex":4,"uvIndexTime":1574019660,"visibility":10,"ozone":265.3,"temperatureMin":61.07,"temperatureMinTime":1573980120,"temperatureMax":85.56,"temperatureMaxTime":1574025540,"apparentTemperatureMin":61.56,"apparentTemperatureMinTime":1573980120,"apparentTemperatureMax":85.06,"apparentTemperatureMaxTime":1574025540},{"time":1574064000,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1574087460,"sunsetTime":1574124600,"moonPhase":0.73,"precipIntensity":0,"precipIntensityMax":0,"precipIntensityMaxTime":1574150400,"precipProbability":0,"temperatureHigh":83.97,"temperatureHighTime":1574111400,"temperatureLow":57.95,"temperatureLowTime":1574167920,"apparentTemperatureHigh":83.47,"apparentTemperatureHighTime":1574111400,"apparentTemperatureLow":58.44,"apparentTemperatureLowTime":1574167920,"dewPoint":32.52,"humidity":0.25,"pressure":1012.4,"windSpeed":5.22,"windGust":8.78,"windGustTime":1574121480,"windBearing":13,"cloudCover":0.09,"uvIndex":4,"uvIndexTime":1574106000,"visibility":10,"ozone":263.5,"temperatureMin":61.89,"temperatureMinTime":1574150400,"temperatureMax":83.97,"temperatureMaxTime":1574111400,"apparentTemperatureMin":62.38,"apparentTemperatureMinTime":1574150400,"apparentTemperatureMax":83.47,"apparentTemperatureMaxTime":1574111400},{"time":1574150400,"summary":"Possible drizzle overnight.","icon":"partly-cloudy-day","sunriseTime":1574173920,"sunsetTime":1574211000,"moonPhase":0.76,"precipIntensity":0.0012,"precipIntensityMax":0.0101,"precipIntensityMaxTime":1574236800,"precipProbability":0.3,"precipType":"rain","temperatureHigh":71.8,"temperatureHighTime":1574194140,"temperatureLow":54.71,"temperatureLowTime":1574257920,"apparentTemperatureHigh":71.3,"apparentTemperatureHighTime":1574194140,"apparentTemperatureLow":55.2,"apparentTemperatureLowTime":1574257920,"dewPoint":51.42,"humidity":0.68,"pressure":1007.3,"windSpeed":5.18,"windGust":10.2,"windGustTime":1574236800,"windBearing":132,"cloudCover":0.57,"uvIndex":3,"uvIndexTime":1574191980,"visibility":10,"ozone":273,"temperatureMin":56.9,"temperatureMinTime":1574234520,"temperatureMax":71.8,"temperatureMaxTime":1574194140,"apparentTemperatureMin":57.39,"apparentTemperatureMinTime":1574234520,"apparentTemperatureMax":71.3,"apparentTemperatureMaxTime":1574194140},{"time":1574236800,"summary":"Light rain throughout the day.","icon":"rain","sunriseTime":1574260380,"sunsetTime":1574297340,"moonPhase":0.8,"precipIntensity":0.0117,"precipIntensityMax":0.0303,"precipIntensityMaxTime":1574309700,"precipProbability":0.91,"precipType":"rain","temperatureHigh":61.44,"temperatureHighTime":1574281080,"temperatureLow":52.19,"temperatureLowTime":1574334900,"apparentTemperatureHigh":60.94,"apparentTemperatureHighTime":1574281080,"apparentTemperatureLow":52.68,"apparentTemperatureLowTime":1574334900,"dewPoint":51.78,"humidity":0.83,"pressure":1004.6,"windSpeed":6.15,"windGust":10.2,"windGustTime":1574237220,"windBearing":197,"cloudCover":0.43,"uvIndex":3,"uvIndexTime":1574279460,"visibility":9.974,"ozone":313.3,"temperatureMin":52.81,"temperatureMinTime":1574323200,"temperatureMax":61.44,"temperatureMaxTime":1574281080,"apparentTemperatureMin":53.3,"apparentTemperatureMinTime":1574323200,"apparentTemperatureMax":60.94,"apparentTemperatureMaxTime":1574281080},{"time":1574323200,"summary":"Possible light rain in the morning.","icon":"rain","sunriseTime":1574346840,"sunsetTime":1574383740,"moonPhase":0.84,"precipIntensity":0.0047,"precipIntensityMax":0.018,"precipIntensityMaxTime":1574334720,"precipProbability":0.79,"precipType":"rain","temperatureHigh":63.69,"temperatureHighTime":1574370360,"temperatureLow":48.85,"temperatureLowTime":1574431080,"apparentTemperatureHigh":63.19,"apparentTemperatureHighTime":1574370360,"apparentTemperatureLow":48.46,"apparentTemperatureLowTime":1574430720,"dewPoint":51.13,"humidity":0.83,"pressure":1011.3,"windSpeed":4.93,"windGust":7.79,"windGustTime":1574335260,"windBearing":117,"cloudCover":0.43,"uvIndex":3,"uvIndexTime":1574366100,"visibility":9.412,"ozone":280.7,"temperatureMin":51.82,"temperatureMinTime":1574409600,"temperatureMax":63.69,"temperatureMaxTime":1574370360,"apparentTemperatureMin":52.31,"apparentTemperatureMinTime":1574409600,"apparentTemperatureMax":63.19,"apparentTemperatureMaxTime":1574370360},{"time":1574409600,"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1574433300,"sunsetTime":1574470080,"moonPhase":0.87,"precipIntensity":0.0001,"precipIntensityMax":0.0002,"precipIntensityMaxTime":1574429400,"precipProbability":0.05,"precipType":"rain","temperatureHigh":66.98,"temperatureHighTime":1574456760,"temperatureLow":50.78,"temperatureLowTime":1574518740,"apparentTemperatureHigh":66.48,"apparentTemperatureHighTime":1574456760,"apparentTemperatureLow":51.27,"apparentTemperatureLowTime":1574518740,"dewPoint":50.04,"humidity":0.78,"pressure":1018.9,"windSpeed":3.57,"windGust":8.85,"windGustTime":1574471340,"windBearing":346,"cloudCover":0.45,"uvIndex":3,"uvIndexTime":1574452440,"visibility":10,"ozone":276.2,"temperatureMin":48.85,"temperatureMinTime":1574431080,"temperatureMax":66.98,"temperatureMaxTime":1574456760,"apparentTemperatureMin":48.46,"apparentTemperatureMinTime":1574430720,"apparentTemperatureMax":66.48,"apparentTemperatureMaxTime":1574456760},{"time":1574496000,"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1574519760,"sunsetTime":1574556480,"moonPhase":0.91,"precipIntensity":0,"precipIntensityMax":0.0003,"precipIntensityMaxTime":1574563740,"precipProbability":0.01,"temperatureHigh":71.13,"temperatureHighTime":1574543760,"temperatureLow":49.31,"temperatureLowTime":1574603520,"apparentTemperatureHigh":70.63,"apparentTemperatureHighTime":1574543760,"apparentTemperatureLow":47.67,"apparentTemperatureLowTime":1574603940,"dewPoint":44.27,"humidity":0.59,"pressure":1019,"windSpeed":4.42,"windGust":8.57,"windGustTime":1574556180,"windBearing":349,"cloudCover":0.57,"uvIndex":3,"uvIndexTime":1574538840,"visibility":10,"ozone":279.4,"temperatureMin":50.78,"temperatureMinTime":1574518740,"temperatureMax":71.13,"temperatureMaxTime":1574543760,"apparentTemperatureMin":51.27,"apparentTemperatureMinTime":1574518740,"apparentTemperatureMax":70.63,"apparentTemperatureMaxTime":1574543760}]},"flags":{"sources":["nwspa","cmc","gfs","hrrr","icon","isd","madis","nam","sref","darksky","nearest-precip"],"nearest-station":1.623,"units":"us"},"offset":-8}`;
    var json_day0 = `{"latitude":34.0308,"longitude":-118.473,"timezone":"America/Los_Angeles","currently":{"time":1573935180,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":75.4,"apparentTemperature":75.4,"dewPoint":50.7,"humidity":0.42,"pressure":1014,"windSpeed":2.79,"windGust":6.74,"windBearing":231,"cloudCover":0,"uvIndex":4,"visibility":5.413,"ozone":287.5},"minutely":{"summary":"Clear for the hour.","icon":"clear-day","data":[{"time":1573935180,"precipIntensity":0,"precipProbability":0},{"time":1573935240,"precipIntensity":0,"precipProbability":0},{"time":1573935300,"precipIntensity":0,"precipProbability":0},{"time":1573935360,"precipIntensity":0,"precipProbability":0},{"time":1573935420,"precipIntensity":0,"precipProbability":0},{"time":1573935480,"precipIntensity":0,"precipProbability":0},{"time":1573935540,"precipIntensity":0,"precipProbability":0},{"time":1573935600,"precipIntensity":0,"precipProbability":0},{"time":1573935660,"precipIntensity":0,"precipProbability":0},{"time":1573935720,"precipIntensity":0,"precipProbability":0},{"time":1573935780,"precipIntensity":0,"precipProbability":0},{"time":1573935840,"precipIntensity":0,"precipProbability":0},{"time":1573935900,"precipIntensity":0,"precipProbability":0},{"time":1573935960,"precipIntensity":0,"precipProbability":0},{"time":1573936020,"precipIntensity":0,"precipProbability":0},{"time":1573936080,"precipIntensity":0,"precipProbability":0},{"time":1573936140,"precipIntensity":0,"precipProbability":0},{"time":1573936200,"precipIntensity":0,"precipProbability":0},{"time":1573936260,"precipIntensity":0,"precipProbability":0},{"time":1573936320,"precipIntensity":0,"precipProbability":0},{"time":1573936380,"precipIntensity":0,"precipProbability":0},{"time":1573936440,"precipIntensity":0,"precipProbability":0},{"time":1573936500,"precipIntensity":0,"precipProbability":0},{"time":1573936560,"precipIntensity":0,"precipProbability":0},{"time":1573936620,"precipIntensity":0,"precipProbability":0},{"time":1573936680,"precipIntensity":0,"precipProbability":0},{"time":1573936740,"precipIntensity":0,"precipProbability":0},{"time":1573936800,"precipIntensity":0,"precipProbability":0},{"time":1573936860,"precipIntensity":0,"precipProbability":0},{"time":1573936920,"precipIntensity":0,"precipProbability":0},{"time":1573936980,"precipIntensity":0,"precipProbability":0},{"time":1573937040,"precipIntensity":0,"precipProbability":0},{"time":1573937100,"precipIntensity":0,"precipProbability":0},{"time":1573937160,"precipIntensity":0,"precipProbability":0},{"time":1573937220,"precipIntensity":0,"precipProbability":0},{"time":1573937280,"precipIntensity":0,"precipProbability":0},{"time":1573937340,"precipIntensity":0,"precipProbability":0},{"time":1573937400,"precipIntensity":0,"precipProbability":0},{"time":1573937460,"precipIntensity":0,"precipProbability":0},{"time":1573937520,"precipIntensity":0,"precipProbability":0},{"time":1573937580,"precipIntensity":0,"precipProbability":0},{"time":1573937640,"precipIntensity":0,"precipProbability":0},{"time":1573937700,"precipIntensity":0,"precipProbability":0},{"time":1573937760,"precipIntensity":0,"precipProbability":0},{"time":1573937820,"precipIntensity":0,"precipProbability":0},{"time":1573937880,"precipIntensity":0,"precipProbability":0},{"time":1573937940,"precipIntensity":0,"precipProbability":0},{"time":1573938000,"precipIntensity":0,"precipProbability":0},{"time":1573938060,"precipIntensity":0,"precipProbability":0},{"time":1573938120,"precipIntensity":0,"precipProbability":0},{"time":1573938180,"precipIntensity":0,"precipProbability":0},{"time":1573938240,"precipIntensity":0,"precipProbability":0},{"time":1573938300,"precipIntensity":0,"precipProbability":0},{"time":1573938360,"precipIntensity":0,"precipProbability":0},{"time":1573938420,"precipIntensity":0,"precipProbability":0},{"time":1573938480,"precipIntensity":0,"precipProbability":0},{"time":1573938540,"precipIntensity":0,"precipProbability":0},{"time":1573938600,"precipIntensity":0,"precipProbability":0},{"time":1573938660,"precipIntensity":0,"precipProbability":0},{"time":1573938720,"precipIntensity":0,"precipProbability":0},{"time":1573938780,"precipIntensity":0,"precipProbability":0}]},"hourly":{"summary":"Clear throughout the day.","icon":"clear-day","data":[{"time":1573891200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":58.52,"apparentTemperature":58.52,"dewPoint":51.94,"humidity":0.79,"pressure":1015.8,"windSpeed":2.2,"windGust":4.35,"windBearing":345,"cloudCover":0,"uvIndex":0,"visibility":5.497,"ozone":290.5},{"time":1573894800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":57.5,"apparentTemperature":57.5,"dewPoint":49.43,"humidity":0.74,"pressure":1015.5,"windSpeed":1.93,"windGust":4.96,"windBearing":344,"cloudCover":0,"uvIndex":0,"visibility":6.85,"ozone":288.7},{"time":1573898400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":56.64,"apparentTemperature":56.64,"dewPoint":48.94,"humidity":0.75,"pressure":1015.2,"windSpeed":1.55,"windGust":4.27,"windBearing":333,"cloudCover":0,"uvIndex":0,"visibility":5.41,"ozone":288.3},{"time":1573902000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":57.31,"apparentTemperature":57.31,"dewPoint":47.04,"humidity":0.69,"pressure":1014.7,"windSpeed":2.51,"windGust":5.29,"windBearing":344,"cloudCover":0,"uvIndex":0,"visibility":5.807,"ozone":288.4},{"time":1573905600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":57.28,"apparentTemperature":57.28,"dewPoint":46,"humidity":0.66,"pressure":1014.4,"windSpeed":2.38,"windGust":5.72,"windBearing":346,"cloudCover":0,"uvIndex":0,"visibility":5.259,"ozone":288.4},{"time":1573909200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":57.92,"apparentTemperature":57.92,"dewPoint":44.23,"humidity":0.6,"pressure":1014.7,"windSpeed":1.62,"windGust":4.49,"windBearing":321,"cloudCover":0,"uvIndex":0,"visibility":6.37,"ozone":285.8},{"time":1573912800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":58.04,"apparentTemperature":58.04,"dewPoint":43.35,"humidity":0.58,"pressure":1014.8,"windSpeed":2.17,"windGust":5.06,"windBearing":334,"cloudCover":0,"uvIndex":0,"visibility":5.161,"ozone":284.8},{"time":1573916400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":59.7,"apparentTemperature":59.7,"dewPoint":44.13,"humidity":0.56,"pressure":1015.1,"windSpeed":2.58,"windGust":6.11,"windBearing":1,"cloudCover":0.04,"uvIndex":0,"visibility":6.104,"ozone":284.3},{"time":1573920000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":62.55,"apparentTemperature":62.55,"dewPoint":46.67,"humidity":0.56,"pressure":1015.2,"windSpeed":3.29,"windGust":6.27,"windBearing":20,"cloudCover":0,"uvIndex":1,"visibility":4.585,"ozone":284},{"time":1573923600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":67.62,"apparentTemperature":67.62,"dewPoint":48.99,"humidity":0.51,"pressure":1015.6,"windSpeed":1.87,"windGust":4.89,"windBearing":156,"cloudCover":0.03,"uvIndex":2,"visibility":6.933,"ozone":284},{"time":1573927200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":71.36,"apparentTemperature":71.36,"dewPoint":50.24,"humidity":0.47,"pressure":1015.5,"windSpeed":1.31,"windGust":4.96,"windBearing":169,"cloudCover":0,"uvIndex":3,"visibility":4.797,"ozone":284.4},{"time":1573930800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":73.27,"apparentTemperature":73.27,"dewPoint":50.79,"humidity":0.45,"pressure":1015.1,"windSpeed":2.3,"windGust":5.84,"windBearing":205,"cloudCover":0,"uvIndex":4,"visibility":5.567,"ozone":285.7},{"time":1573934400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":74.99,"apparentTemperature":74.99,"dewPoint":50.69,"humidity":0.43,"pressure":1014.2,"windSpeed":2.74,"windGust":6.64,"windBearing":228,"cloudCover":0,"uvIndex":4,"visibility":5.35,"ozone":287.2},{"time":1573938000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.75,"apparentTemperature":76.75,"dewPoint":51.02,"humidity":0.41,"pressure":1013.6,"windSpeed":3.01,"windGust":7.13,"windBearing":242,"cloudCover":0,"uvIndex":3,"visibility":6.361,"ozone":288.2},{"time":1573941600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.66,"apparentTemperature":76.66,"dewPoint":52.85,"humidity":0.44,"pressure":1013.5,"windSpeed":4.53,"windGust":9.23,"windBearing":258,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":288.5},{"time":1573945200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.04,"apparentTemperature":76.04,"dewPoint":54.3,"humidity":0.47,"pressure":1013.6,"windSpeed":5.99,"windGust":11.36,"windBearing":265,"cloudCover":0,"uvIndex":1,"visibility":10,"ozone":288.3},{"time":1573948800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":74.76,"apparentTemperature":74.76,"dewPoint":54.42,"humidity":0.49,"pressure":1013.4,"windSpeed":6.67,"windGust":12.46,"windBearing":257,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":287.3},{"time":1573952400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":71.89,"apparentTemperature":71.89,"dewPoint":53.9,"humidity":0.53,"pressure":1013.8,"windSpeed":5.75,"windGust":10.11,"windBearing":196,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":285.3},{"time":1573956000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":69.31,"apparentTemperature":69.31,"dewPoint":52.46,"humidity":0.55,"pressure":1014.3,"windSpeed":5.35,"windGust":8.64,"windBearing":94,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":282.5},{"time":1573959600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":67.06,"apparentTemperature":67.06,"dewPoint":52.04,"humidity":0.59,"pressure":1014.7,"windSpeed":4.02,"windGust":4.28,"windBearing":33,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":280},{"time":1573963200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":65.02,"apparentTemperature":65.02,"dewPoint":51.46,"humidity":0.61,"pressure":1015.1,"windSpeed":4.72,"windGust":5.22,"windBearing":22,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":278.3},{"time":1573966800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.09,"apparentTemperature":64.09,"dewPoint":50.89,"humidity":0.62,"pressure":1015.7,"windSpeed":4.41,"windGust":4.65,"windBearing":22,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":276.7},{"time":1573970400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.19,"apparentTemperature":63.19,"dewPoint":50.61,"humidity":0.64,"pressure":1016.1,"windSpeed":5.16,"windGust":5.82,"windBearing":37,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":275.4},{"time":1573974000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":62.16,"apparentTemperature":62.16,"dewPoint":49.76,"humidity":0.64,"pressure":1016.1,"windSpeed":5.84,"windGust":6.81,"windBearing":28,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":274.6}]},"daily":{"data":[{"time":1573891200,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1573914540,"sunsetTime":1573951860,"moonPhase":0.65,"precipIntensity":0.0004,"precipIntensityMax":0.0019,"precipIntensityMaxTime":1573969680,"precipProbability":0.06,"precipType":"rain","temperatureHigh":77.38,"temperatureHighTime":1573939200,"temperatureLow":61.07,"temperatureLowTime":1573980120,"apparentTemperatureHigh":76.88,"apparentTemperatureHighTime":1573939200,"apparentTemperatureLow":61.56,"apparentTemperatureLowTime":1573980120,"dewPoint":49.79,"humidity":0.57,"pressure":1014.8,"windSpeed":3.48,"windGust":12.49,"windGustTime":1573948380,"windBearing":301,"cloudCover":0,"uvIndex":4,"uvIndexTime":1573933080,"visibility":7.509,"ozone":284.7,"temperatureMin":56.15,"temperatureMinTime":1573898520,"temperatureMax":77.38,"temperatureMaxTime":1573939200,"apparentTemperatureMin":56.64,"apparentTemperatureMinTime":1573898520,"apparentTemperatureMax":76.88,"apparentTemperatureMaxTime":1573939200}]},"flags":{"sources":["cmc","gfs","hrrr","icon","isd","madis","nam","sref","darksky"],"nearest-station":1.623,"units":"us"},"offset":-8}`;
    var json_day1 = `{"latitude":34.0308,"longitude":-118.473,"timezone":"America/Los_Angeles","currently":{"time":1574021580,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":83.54,"apparentTemperature":83.54,"dewPoint":34.12,"humidity":0.17,"pressure":1015,"windSpeed":5.59,"windGust":7.28,"windBearing":44,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":261.4},"hourly":{"summary":"Clear throughout the day.","icon":"clear-day","data":[{"time":1573977600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":61.88,"apparentTemperature":61.88,"dewPoint":48.79,"humidity":0.62,"pressure":1015.7,"windSpeed":5.77,"windGust":6.1,"windBearing":21,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":274},{"time":1573981200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":61.75,"apparentTemperature":61.75,"dewPoint":47.09,"humidity":0.59,"pressure":1015.6,"windSpeed":5.81,"windGust":6.12,"windBearing":26,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":273.2},{"time":1573984800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.76,"apparentTemperature":64.76,"dewPoint":36.36,"humidity":0.35,"pressure":1015.5,"windSpeed":6.97,"windGust":8,"windBearing":12,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":271.8},{"time":1573988400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.22,"apparentTemperature":64.22,"dewPoint":36,"humidity":0.35,"pressure":1015.5,"windSpeed":7.59,"windGust":8.98,"windBearing":15,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":270.3},{"time":1573992000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.08,"apparentTemperature":64.08,"dewPoint":35.87,"humidity":0.35,"pressure":1015.5,"windSpeed":8.05,"windGust":9.77,"windBearing":17,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":268.9},{"time":1573995600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.62,"apparentTemperature":63.62,"dewPoint":35.87,"humidity":0.36,"pressure":1015.7,"windSpeed":8.21,"windGust":10.27,"windBearing":18,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":268},{"time":1573999200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.41,"apparentTemperature":63.41,"dewPoint":35.94,"humidity":0.36,"pressure":1015.8,"windSpeed":8.2,"windGust":10.6,"windBearing":21,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":267.3},{"time":1574002800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":64.6,"apparentTemperature":64.6,"dewPoint":36.34,"humidity":0.35,"pressure":1015.9,"windSpeed":8.02,"windGust":10.81,"windBearing":22,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":266.6},{"time":1574006400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":67.76,"apparentTemperature":67.76,"dewPoint":37.19,"humidity":0.32,"pressure":1016.1,"windSpeed":7.61,"windGust":11,"windBearing":21,"cloudCover":0,"uvIndex":1,"visibility":10,"ozone":265.8},{"time":1574010000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":72.11,"apparentTemperature":72.11,"dewPoint":37.98,"humidity":0.29,"pressure":1016.3,"windSpeed":7.06,"windGust":11.06,"windBearing":19,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":265},{"time":1574013600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.27,"apparentTemperature":76.27,"dewPoint":37.93,"humidity":0.25,"pressure":1016.3,"windSpeed":6.51,"windGust":10.66,"windBearing":23,"cloudCover":0,"uvIndex":3,"visibility":10,"ozone":264.1},{"time":1574017200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":79.81,"apparentTemperature":79.81,"dewPoint":36.55,"humidity":0.21,"pressure":1015.9,"windSpeed":6.09,"windGust":9.34,"windBearing":35,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":262.8},{"time":1574020800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":82.99,"apparentTemperature":82.99,"dewPoint":34.54,"humidity":0.18,"pressure":1015.1,"windSpeed":5.67,"windGust":7.59,"windBearing":46,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":261.6},{"time":1574024400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":84.94,"apparentTemperature":84.94,"dewPoint":32.93,"humidity":0.15,"pressure":1014.7,"windSpeed":5.33,"windGust":6.48,"windBearing":27,"cloudCover":0,"uvIndex":3,"visibility":10,"ozone":260.9},{"time":1574028000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":84.67,"apparentTemperature":84.67,"dewPoint":33.74,"humidity":0.16,"pressure":1014.4,"windSpeed":5.14,"windGust":6.81,"windBearing":3,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":261.5},{"time":1574031600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":83,"apparentTemperature":83,"dewPoint":35.57,"humidity":0.18,"pressure":1014.1,"windSpeed":5.06,"windGust":7.88,"windBearing":333,"cloudCover":0,"uvIndex":1,"visibility":10,"ozone":262.6},{"time":1574035200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":80.66,"apparentTemperature":80.66,"dewPoint":36.58,"humidity":0.21,"pressure":1014,"windSpeed":5.06,"windGust":8.39,"windBearing":316,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.4},{"time":1574038800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":78.15,"apparentTemperature":78.15,"dewPoint":36.02,"humidity":0.22,"pressure":1014.1,"windSpeed":4.99,"windGust":7.53,"windBearing":346,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.5},{"time":1574042400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":75.07,"apparentTemperature":75.07,"dewPoint":34.85,"humidity":0.23,"pressure":1014.5,"windSpeed":4.93,"windGust":6.07,"windBearing":18,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.2},{"time":1574046000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":72.82,"apparentTemperature":72.82,"dewPoint":33.87,"humidity":0.24,"pressure":1014.8,"windSpeed":5.02,"windGust":5.21,"windBearing":9,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.2},{"time":1574049600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":71.37,"apparentTemperature":71.37,"dewPoint":31.92,"humidity":0.23,"pressure":1015,"windSpeed":5.44,"windGust":5.5,"windBearing":10,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.5},{"time":1574053200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":70.12,"apparentTemperature":70.12,"dewPoint":29.54,"humidity":0.22,"pressure":1015.2,"windSpeed":6.02,"windGust":6.42,"windBearing":16,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":264},{"time":1574056800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":68.93,"apparentTemperature":68.93,"dewPoint":27.55,"humidity":0.21,"pressure":1015.3,"windSpeed":6.51,"windGust":7.19,"windBearing":21,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":264.2},{"time":1574060400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":67.81,"apparentTemperature":67.81,"dewPoint":26.49,"humidity":0.21,"pressure":1015.3,"windSpeed":6.75,"windGust":7.47,"windBearing":21,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.5}]},"daily":{"data":[{"time":1573977600,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1574001000,"sunsetTime":1574038260,"moonPhase":0.69,"precipIntensity":0,"precipIntensityMax":0,"precipIntensityMaxTime":1573977600,"precipProbability":0,"temperatureHigh":85.56,"temperatureHighError":5.61,"temperatureHighTime":1574025540,"temperatureLow":62.51,"temperatureLowError":5.61,"temperatureLowTime":1574085240,"apparentTemperatureHigh":85.06,"apparentTemperatureHighTime":1574025540,"apparentTemperatureLow":63,"apparentTemperatureLowTime":1574085240,"dewPoint":35.56,"humidity":0.28,"pressure":1015.3,"windSpeed":6.33,"windGust":11.08,"windGustTime":1574009100,"windBearing":17,"cloudCover":0,"uvIndex":4,"uvIndexTime":1574019660,"visibility":10,"ozone":265.4,"temperatureMin":61.07,"temperatureMinError":5.61,"temperatureMinTime":1573980120,"temperatureMax":85.56,"temperatureMaxError":5.61,"temperatureMaxTime":1574025540,"apparentTemperatureMin":61.56,"apparentTemperatureMinTime":1573980120,"apparentTemperatureMax":85.06,"apparentTemperatureMaxTime":1574025540}]},"flags":{"sources":["cmc","gfs","hrrr","icon","isd","madis","nam","sref"],"nearest-station":1.623,"units":"us"},"offset":-8}`;
    var json_day2 = `{"latitude":34.0308,"longitude":-118.473,"timezone":"America/Los_Angeles","currently":{"time":1574107980,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":82.59,"apparentTemperature":82.59,"dewPoint":29.97,"humidity":0.15,"pressure":1012.1,"windSpeed":3.53,"windGust":4.29,"windBearing":184,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":264.5},"hourly":{"summary":"Clear throughout the day.","icon":"clear-day","data":[{"time":1574064000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":66.77,"apparentTemperature":66.77,"dewPoint":25.72,"humidity":0.21,"pressure":1015,"windSpeed":6.87,"windGust":7.58,"windBearing":19,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.5},{"time":1574067600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":65.97,"apparentTemperature":65.97,"dewPoint":25.29,"humidity":0.21,"pressure":1014.7,"windSpeed":7.01,"windGust":7.66,"windBearing":18,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":261.9},{"time":1574071200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":65.39,"apparentTemperature":65.39,"dewPoint":24.77,"humidity":0.21,"pressure":1014.3,"windSpeed":7.15,"windGust":7.81,"windBearing":18,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.2},{"time":1574074800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.53,"apparentTemperature":64.53,"dewPoint":24.59,"humidity":0.22,"pressure":1014,"windSpeed":7.29,"windGust":7.93,"windBearing":17,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.9},{"time":1574078400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":64.19,"apparentTemperature":64.19,"dewPoint":24.72,"humidity":0.22,"pressure":1013.9,"windSpeed":7.38,"windGust":8,"windBearing":17,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.4},{"time":1574082000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.48,"apparentTemperature":63.48,"dewPoint":25.17,"humidity":0.23,"pressure":1014,"windSpeed":7.48,"windGust":8.1,"windBearing":15,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":263.2},{"time":1574085600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":63.01,"apparentTemperature":63.01,"dewPoint":25.7,"humidity":0.24,"pressure":1014.1,"windSpeed":7.52,"windGust":8.14,"windBearing":15,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.7},{"time":1574089200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":63.99,"apparentTemperature":63.99,"dewPoint":26.86,"humidity":0.24,"pressure":1014.3,"windSpeed":7.16,"windGust":7.82,"windBearing":14,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":262.6},{"time":1574092800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":67.36,"apparentTemperature":67.36,"dewPoint":28.69,"humidity":0.23,"pressure":1014.3,"windSpeed":6.03,"windGust":6.78,"windBearing":9,"cloudCover":0,"uvIndex":1,"visibility":10,"ozone":263.1},{"time":1574096400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":72.27,"apparentTemperature":72.27,"dewPoint":30.65,"humidity":0.21,"pressure":1014.3,"windSpeed":4.52,"windGust":5.39,"windBearing":0,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":264},{"time":1574100000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":76.65,"apparentTemperature":76.65,"dewPoint":31.76,"humidity":0.19,"pressure":1014,"windSpeed":3.48,"windGust":4.42,"windBearing":12,"cloudCover":0,"uvIndex":3,"visibility":10,"ozone":264.7},{"time":1574103600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":79.78,"apparentTemperature":79.78,"dewPoint":31.3,"humidity":0.17,"pressure":1013.4,"windSpeed":3.25,"windGust":4.12,"windBearing":69,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":264.7},{"time":1574107200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":82.21,"apparentTemperature":82.21,"dewPoint":30.16,"humidity":0.15,"pressure":1012.3,"windSpeed":3.46,"windGust":4.22,"windBearing":167,"cloudCover":0,"uvIndex":4,"visibility":10,"ozone":264.5},{"time":1574110800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":83.44,"apparentTemperature":83.44,"dewPoint":29.74,"humidity":0.14,"pressure":1011.5,"windSpeed":3.84,"windGust":4.7,"windBearing":248,"cloudCover":0,"uvIndex":3,"visibility":10,"ozone":264.3},{"time":1574114400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":82.93,"apparentTemperature":82.93,"dewPoint":32.32,"humidity":0.16,"pressure":1010.8,"windSpeed":4.52,"windGust":6.05,"windBearing":273,"cloudCover":0,"uvIndex":2,"visibility":10,"ozone":264.6},{"time":1574118000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":81.17,"apparentTemperature":81.17,"dewPoint":35.97,"humidity":0.2,"pressure":1010.3,"windSpeed":5.39,"windGust":7.89,"windBearing":271,"cloudCover":0.01,"uvIndex":1,"visibility":10,"ozone":264.9},{"time":1574121600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":78.74,"apparentTemperature":78.74,"dewPoint":38.62,"humidity":0.24,"pressure":1009.9,"windSpeed":5.77,"windGust":8.78,"windBearing":253,"cloudCover":0.04,"uvIndex":0,"visibility":10,"ozone":265},{"time":1574125200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":76.15,"apparentTemperature":76.15,"dewPoint":39.52,"humidity":0.27,"pressure":1009.9,"windSpeed":5.18,"windGust":7.66,"windBearing":161,"cloudCover":0.12,"uvIndex":0,"visibility":10,"ozone":264.6},{"time":1574128800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":72.86,"apparentTemperature":72.86,"dewPoint":39.79,"humidity":0.3,"pressure":1010.2,"windSpeed":4.14,"windGust":5.61,"windBearing":47,"cloudCover":0.23,"uvIndex":0,"visibility":10,"ozone":263.8},{"time":1574132400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":70.16,"apparentTemperature":70.16,"dewPoint":40.18,"humidity":0.34,"pressure":1010.5,"windSpeed":3.44,"windGust":4.28,"windBearing":336,"cloudCover":0.3,"uvIndex":0,"visibility":10,"ozone":263.1},{"time":1574136000,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":68.41,"apparentTemperature":68.41,"dewPoint":40.02,"humidity":0.35,"pressure":1010.7,"windSpeed":3.5,"windGust":4.36,"windBearing":344,"cloudCover":0.32,"uvIndex":0,"visibility":10,"ozone":262.9},{"time":1574139600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":66.93,"apparentTemperature":66.93,"dewPoint":39.51,"humidity":0.37,"pressure":1010.9,"windSpeed":3.86,"windGust":5.02,"windBearing":31,"cloudCover":0.31,"uvIndex":0,"visibility":10,"ozone":262.8},{"time":1574143200,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":65.48,"apparentTemperature":65.48,"dewPoint":39.73,"humidity":0.39,"pressure":1010.9,"windSpeed":4.15,"windGust":5.35,"windBearing":64,"cloudCover":0.31,"uvIndex":0,"visibility":10,"ozone":262.9},{"time":1574146800,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":63.81,"apparentTemperature":63.81,"dewPoint":41.21,"humidity":0.44,"pressure":1010.8,"windSpeed":4.2,"windGust":4.9,"windBearing":69,"cloudCover":0.33,"uvIndex":0,"visibility":10,"ozone":263.1}]},"daily":{"data":[{"time":1574064000,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1574087460,"sunsetTime":1574124600,"moonPhase":0.73,"precipIntensity":0,"precipIntensityMax":0,"precipIntensityMaxTime":1574143860,"precipProbability":0,"temperatureHigh":83.97,"temperatureHighError":5.61,"temperatureHighTime":1574111400,"temperatureLow":57.95,"temperatureLowError":5.61,"temperatureLowTime":1574167920,"apparentTemperatureHigh":83.47,"apparentTemperatureHighTime":1574111400,"apparentTemperatureLow":58.44,"apparentTemperatureLowTime":1574167920,"dewPoint":32.1,"humidity":0.24,"pressure":1012.4,"windSpeed":5.26,"windGust":8.78,"windGustTime":1574121480,"windBearing":10,"cloudCover":0.08,"uvIndex":4,"uvIndexTime":1574106000,"visibility":10,"ozone":263.5,"temperatureMin":62.51,"temperatureMinError":5.61,"temperatureMinTime":1574085240,"temperatureMax":83.97,"temperatureMaxError":5.61,"temperatureMaxTime":1574111400,"apparentTemperatureMin":63,"apparentTemperatureMinTime":1574085240,"apparentTemperatureMax":83.47,"apparentTemperatureMaxTime":1574111400}]},"flags":{"sources":["cmc","gfs","hrrr","icon","isd","madis","nam","sref"],"nearest-station":1.623,"units":"us"},"offset":-8}`;
    var json_day3 = `{"latitude":34.0308,"longitude":-118.473,"timezone":"America/Los_Angeles","currently":{"time":1574194380,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":71.3,"apparentTemperature":71.3,"dewPoint":55.08,"humidity":0.57,"pressure":1007.5,"windSpeed":5.91,"windGust":6.41,"windBearing":145,"cloudCover":0.64,"uvIndex":3,"visibility":10,"ozone":272.4},"hourly":{"summary":"Mostly cloudy throughout the day.","icon":"partly-cloudy-day","data":[{"time":1574150400,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":62.38,"apparentTemperature":62.38,"dewPoint":43.22,"humidity":0.49,"pressure":1010.6,"windSpeed":4.19,"windGust":4.32,"windBearing":66,"cloudCover":0.36,"uvIndex":0,"visibility":10,"ozone":263.7},{"time":1574154000,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":61.27,"apparentTemperature":61.27,"dewPoint":44.74,"humidity":0.55,"pressure":1010.4,"windSpeed":4.06,"windGust":4.17,"windBearing":62,"cloudCover":0.38,"uvIndex":0,"visibility":10,"ozone":264.2},{"time":1574157600,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":60.39,"apparentTemperature":60.39,"dewPoint":45.05,"humidity":0.57,"pressure":1009.8,"windSpeed":3.7,"windGust":3.79,"windBearing":57,"cloudCover":0.4,"uvIndex":0,"visibility":10,"ozone":264.8},{"time":1574161200,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":59.08,"apparentTemperature":59.08,"dewPoint":44.85,"humidity":0.59,"pressure":1009.3,"windSpeed":3.19,"windGust":3.22,"windBearing":48,"cloudCover":0.41,"uvIndex":0,"visibility":10,"ozone":265.6},{"time":1574164800,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":58.62,"apparentTemperature":58.62,"dewPoint":44.73,"humidity":0.6,"pressure":1008.9,"windSpeed":2.85,"windGust":2.87,"windBearing":45,"cloudCover":0.43,"uvIndex":0,"visibility":10,"ozone":266},{"time":1574168400,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":58.45,"apparentTemperature":58.45,"dewPoint":44.61,"humidity":0.6,"pressure":1009,"windSpeed":2.78,"windGust":2.79,"windBearing":49,"cloudCover":0.46,"uvIndex":0,"visibility":10,"ozone":265.9},{"time":1574172000,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":58.81,"apparentTemperature":58.81,"dewPoint":44.4,"humidity":0.59,"pressure":1008.9,"windSpeed":2.87,"windGust":2.89,"windBearing":58,"cloudCover":0.49,"uvIndex":0,"visibility":10,"ozone":265.5},{"time":1574175600,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":59.78,"apparentTemperature":59.78,"dewPoint":45.1,"humidity":0.58,"pressure":1009.1,"windSpeed":3.18,"windGust":3.23,"windBearing":71,"cloudCover":0.52,"uvIndex":0,"visibility":10,"ozone":265.5},{"time":1574179200,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":62.27,"apparentTemperature":62.27,"dewPoint":46.99,"humidity":0.57,"pressure":1009.3,"windSpeed":3.78,"windGust":3.86,"windBearing":90,"cloudCover":0.54,"uvIndex":1,"visibility":10,"ozone":265.7},{"time":1574182800,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":64.96,"apparentTemperature":64.96,"dewPoint":49.7,"humidity":0.58,"pressure":1009.5,"windSpeed":4.58,"windGust":4.68,"windBearing":109,"cloudCover":0.56,"uvIndex":2,"visibility":10,"ozone":266.4},{"time":1574186400,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":68.08,"apparentTemperature":68.08,"dewPoint":51.96,"humidity":0.56,"pressure":1009.4,"windSpeed":5.26,"windGust":5.43,"windBearing":125,"cloudCover":0.58,"uvIndex":3,"visibility":10,"ozone":267.5},{"time":1574190000,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":70.26,"apparentTemperature":70.26,"dewPoint":53.57,"humidity":0.55,"pressure":1008.7,"windSpeed":5.62,"windGust":5.88,"windBearing":135,"cloudCover":0.61,"uvIndex":3,"visibility":10,"ozone":269.5},{"time":1574193600,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":71.28,"apparentTemperature":71.28,"dewPoint":54.89,"humidity":0.56,"pressure":1007.7,"windSpeed":5.85,"windGust":6.29,"windBearing":143,"cloudCover":0.63,"uvIndex":3,"visibility":10,"ozone":271.9},{"time":1574197200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":70.79,"apparentTemperature":70.79,"dewPoint":55.52,"humidity":0.58,"pressure":1006.8,"windSpeed":6.16,"windGust":6.98,"windBearing":149,"cloudCover":0.65,"uvIndex":3,"visibility":10,"ozone":273.7},{"time":1574200800,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":69.23,"apparentTemperature":69.23,"dewPoint":55.71,"humidity":0.62,"pressure":1006.2,"windSpeed":6.78,"windGust":8.2,"windBearing":154,"cloudCover":0.65,"uvIndex":2,"visibility":10,"ozone":274.2},{"time":1574204400,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0002,"precipProbability":0.01,"precipType":"rain","temperature":66.94,"apparentTemperature":66.94,"dewPoint":55.6,"humidity":0.67,"pressure":1005.6,"windSpeed":7.48,"windGust":9.42,"windBearing":157,"cloudCover":0.65,"uvIndex":1,"visibility":10,"ozone":274},{"time":1574208000,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0003,"precipProbability":0.02,"precipType":"rain","temperature":65.55,"apparentTemperature":65.55,"dewPoint":55.9,"humidity":0.71,"pressure":1005.2,"windSpeed":7.76,"windGust":10.05,"windBearing":158,"cloudCover":0.64,"uvIndex":0,"visibility":10,"ozone":274},{"time":1574211600,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0003,"precipProbability":0.01,"precipType":"rain","temperature":64.38,"apparentTemperature":64.38,"dewPoint":55.88,"humidity":0.74,"pressure":1004.7,"windSpeed":7.12,"windGust":7.5,"windBearing":163,"cloudCover":0.57,"uvIndex":0,"visibility":10,"ozone":274.2},{"time":1574215200,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0003,"precipProbability":0.02,"precipType":"rain","temperature":61.99,"apparentTemperature":61.99,"dewPoint":56.01,"humidity":0.81,"pressure":1004.7,"windSpeed":5.84,"windGust":6.15,"windBearing":153,"cloudCover":0.71,"uvIndex":0,"visibility":10,"ozone":274.5},{"time":1574218800,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0004,"precipProbability":0.02,"precipType":"rain","temperature":60.2,"apparentTemperature":60.2,"dewPoint":56.28,"humidity":0.87,"pressure":1004.7,"windSpeed":5.09,"windGust":5.39,"windBearing":146,"cloudCover":0.78,"uvIndex":0,"visibility":10,"ozone":276},{"time":1574222400,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0007,"precipProbability":0.03,"precipType":"rain","temperature":59.67,"apparentTemperature":59.67,"dewPoint":56.05,"humidity":0.88,"pressure":1004.8,"windSpeed":5.49,"windGust":6.01,"windBearing":142,"cloudCover":0.71,"uvIndex":0,"visibility":10,"ozone":279.7},{"time":1574226000,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0015,"precipProbability":0.07,"precipType":"rain","temperature":59.24,"apparentTemperature":59.24,"dewPoint":55.88,"humidity":0.89,"pressure":1004.9,"windSpeed":6.45,"windGust":7.83,"windBearing":143,"cloudCover":0.58,"uvIndex":0,"visibility":10,"ozone":284.5},{"time":1574229600,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0027,"precipProbability":0.09,"precipType":"rain","temperature":58.62,"apparentTemperature":58.62,"dewPoint":55.78,"humidity":0.9,"pressure":1004.7,"windSpeed":7.11,"windGust":9.48,"windBearing":146,"cloudCover":0.51,"uvIndex":0,"visibility":10,"ozone":289.7},{"time":1574233200,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0067,"precipProbability":0.24,"precipType":"rain","temperature":57.49,"apparentTemperature":57.49,"dewPoint":55.39,"humidity":0.93,"pressure":1004.8,"windSpeed":6.17,"windGust":10.07,"windBearing":162,"cloudCover":0.57,"uvIndex":0,"visibility":10,"ozone":295.6}]},"daily":{"data":[{"time":1574150400,"summary":"Clear throughout the day.","icon":"partly-cloudy-day","sunriseTime":1574173920,"sunsetTime":1574211000,"moonPhase":0.76,"precipIntensity":0.0009,"precipIntensityMax":0.0067,"precipIntensityMaxError":0.0693,"precipIntensityMaxTime":1574233200,"precipProbability":0.24,"precipType":"rain","temperatureHigh":71.8,"temperatureHighError":5.61,"temperatureHighTime":1574194140,"temperatureLow":54.71,"temperatureLowError":5.61,"temperatureLowTime":1574257920,"apparentTemperatureHigh":71.3,"apparentTemperatureHighTime":1574194140,"apparentTemperatureLow":55.2,"apparentTemperatureLowTime":1574257920,"dewPoint":51.25,"humidity":0.66,"pressure":1007.4,"windSpeed":5.14,"windGust":10.14,"windGustTime":1574207340,"windBearing":130,"cloudCover":0.56,"uvIndex":3,"uvIndexTime":1574191980,"visibility":10,"ozone":271.8,"temperatureMin":57,"temperatureMinError":5.61,"temperatureMinTime":1574233200,"temperatureMax":71.8,"temperatureMaxError":5.61,"temperatureMaxTime":1574194140,"apparentTemperatureMin":57.49,"apparentTemperatureMinTime":1574233200,"apparentTemperatureMax":71.3,"apparentTemperatureMaxTime":1574194140}]},"flags":{"sources":["cmc","gfs","hrrr","icon","isd","madis","nam","sref"],"nearest-station":1.623,"units":"us"},"offset":-8}`;
    var json_day4 = `{"latitude":34.0308,"longitude":-118.473,"timezone":"America/Los_Angeles","currently":{"time":1574280780,"summary":"Clear","icon":"clear-day","precipIntensity":0.0048,"precipProbability":0.15,"precipType":"rain","temperature":60.95,"apparentTemperature":60.95,"dewPoint":52.59,"humidity":0.74,"pressure":1003.9,"windSpeed":7.22,"windGust":8.24,"windBearing":210,"cloudCover":0.29,"uvIndex":3,"visibility":10,"ozone":315.9},"hourly":{"summary":"Possible light rain throughout the day.","icon":"rain","data":[{"time":1574236800,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0101,"precipProbability":0.3,"precipType":"rain","temperature":57.44,"apparentTemperature":57.44,"dewPoint":55.5,"humidity":0.93,"pressure":1004.4,"windSpeed":6.09,"windGust":10.2,"windBearing":176,"cloudCover":0.82,"uvIndex":0,"visibility":10,"ozone":301.9},{"time":1574240400,"summary":"Overcast","icon":"cloudy","precipIntensity":0.0119,"precipProbability":0.26,"precipType":"rain","temperature":57.38,"apparentTemperature":57.38,"dewPoint":55.32,"humidity":0.93,"pressure":1004,"windSpeed":6.09,"windGust":10.13,"windBearing":191,"cloudCover":0.99,"uvIndex":0,"visibility":10,"ozone":307.4},{"time":1574244000,"summary":"Overcast","icon":"cloudy","precipIntensity":0.0094,"precipProbability":0.23,"precipType":"rain","temperature":57.07,"apparentTemperature":57.07,"dewPoint":54.7,"humidity":0.92,"pressure":1003.6,"windSpeed":6.42,"windGust":9.93,"windBearing":205,"cloudCover":1,"uvIndex":0,"visibility":10,"ozone":311.4},{"time":1574247600,"summary":"Overcast","icon":"cloudy","precipIntensity":0.0062,"precipProbability":0.18,"precipType":"rain","temperature":56.15,"apparentTemperature":56.15,"dewPoint":53.82,"humidity":0.92,"pressure":1003.3,"windSpeed":6.87,"windGust":9.52,"windBearing":220,"cloudCover":0.92,"uvIndex":0,"visibility":10,"ozone":314.5},{"time":1574251200,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0053,"precipProbability":0.17,"precipType":"rain","temperature":55.73,"apparentTemperature":55.73,"dewPoint":53.11,"humidity":0.91,"pressure":1003.2,"windSpeed":7.05,"windGust":9.01,"windBearing":230,"cloudCover":0.82,"uvIndex":0,"visibility":10,"ozone":317.4},{"time":1574254800,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0058,"precipProbability":0.2,"precipType":"rain","temperature":55.37,"apparentTemperature":55.37,"dewPoint":52.65,"humidity":0.91,"pressure":1003.4,"windSpeed":6.63,"windGust":8.27,"windBearing":237,"cloudCover":0.67,"uvIndex":0,"visibility":10,"ozone":320.3},{"time":1574258400,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0072,"precipProbability":0.22,"precipType":"rain","temperature":55.21,"apparentTemperature":55.21,"dewPoint":52.32,"humidity":0.9,"pressure":1003.8,"windSpeed":5.89,"windGust":7.45,"windBearing":242,"cloudCover":0.51,"uvIndex":0,"visibility":10,"ozone":322.9},{"time":1574262000,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0081,"precipProbability":0.23,"precipType":"rain","temperature":55.59,"apparentTemperature":55.59,"dewPoint":52.32,"humidity":0.89,"pressure":1004.2,"windSpeed":5.49,"windGust":7,"windBearing":243,"cloudCover":0.39,"uvIndex":0,"visibility":10,"ozone":324.8},{"time":1574265600,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0069,"precipProbability":0.23,"precipType":"rain","temperature":56.85,"apparentTemperature":56.85,"dewPoint":52.77,"humidity":0.86,"pressure":1004.5,"windSpeed":5.8,"windGust":7.25,"windBearing":242,"cloudCover":0.37,"uvIndex":0,"visibility":10,"ozone":326},{"time":1574269200,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0052,"precipProbability":0.18,"precipType":"rain","temperature":58.53,"apparentTemperature":58.53,"dewPoint":53,"humidity":0.82,"pressure":1004.8,"windSpeed":6.47,"windGust":7.88,"windBearing":236,"cloudCover":0.4,"uvIndex":1,"visibility":10,"ozone":326.3},{"time":1574272800,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0042,"precipProbability":0.16,"precipType":"rain","temperature":59.99,"apparentTemperature":59.99,"dewPoint":52.77,"humidity":0.77,"pressure":1004.9,"windSpeed":6.98,"windGust":8.32,"windBearing":230,"cloudCover":0.41,"uvIndex":2,"visibility":10,"ozone":325.3},{"time":1574276400,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.004,"precipProbability":0.16,"precipType":"rain","temperature":60.75,"apparentTemperature":60.75,"dewPoint":52.8,"humidity":0.75,"pressure":1004.6,"windSpeed":7.19,"windGust":8.41,"windBearing":222,"cloudCover":0.37,"uvIndex":3,"visibility":10,"ozone":321.7},{"time":1574280000,"summary":"Clear","icon":"clear-day","precipIntensity":0.0046,"precipProbability":0.15,"precipType":"rain","temperature":60.94,"apparentTemperature":60.94,"dewPoint":52.67,"humidity":0.74,"pressure":1004,"windSpeed":7.23,"windGust":8.29,"windBearing":212,"cloudCover":0.3,"uvIndex":3,"visibility":10,"ozone":316.8},{"time":1574283600,"summary":"Clear","icon":"clear-day","precipIntensity":0.0052,"precipProbability":0.15,"precipType":"rain","temperature":60.83,"apparentTemperature":60.83,"dewPoint":52.17,"humidity":0.73,"pressure":1003.6,"windSpeed":7.09,"windGust":7.92,"windBearing":202,"cloudCover":0.25,"uvIndex":3,"visibility":10,"ozone":313.1},{"time":1574287200,"summary":"Clear","icon":"clear-day","precipIntensity":0.0049,"precipProbability":0.15,"precipType":"rain","temperature":60.18,"apparentTemperature":60.18,"dewPoint":51.24,"humidity":0.72,"pressure":1003.6,"windSpeed":6.71,"windGust":7.02,"windBearing":189,"cloudCover":0.22,"uvIndex":2,"visibility":10,"ozone":311.8},{"time":1574290800,"summary":"Clear","icon":"clear-day","precipIntensity":0.006,"precipProbability":0.15,"precipType":"rain","temperature":59.16,"apparentTemperature":59.16,"dewPoint":50.68,"humidity":0.73,"pressure":1003.8,"windSpeed":6.19,"windGust":6.21,"windBearing":175,"cloudCover":0.22,"uvIndex":1,"visibility":10,"ozone":311.7},{"time":1574294400,"summary":"Clear","icon":"clear-day","precipIntensity":0.0092,"precipProbability":0.17,"precipType":"rain","temperature":58.06,"apparentTemperature":58.06,"dewPoint":50.53,"humidity":0.76,"pressure":1004,"windSpeed":5.75,"windGust":5.77,"windBearing":166,"cloudCover":0.21,"uvIndex":0,"visibility":10,"ozone":311.3},{"time":1574298000,"summary":"Clear","icon":"clear-night","precipIntensity":0.0146,"precipProbability":0.21,"precipType":"rain","temperature":56.89,"apparentTemperature":56.89,"dewPoint":49.79,"humidity":0.77,"pressure":1004.3,"windSpeed":5.46,"windGust":5.47,"windBearing":165,"cloudCover":0.2,"uvIndex":0,"visibility":10,"ozone":310.4},{"time":1574301600,"summary":"Clear","icon":"clear-night","precipIntensity":0.0218,"precipProbability":0.3,"precipType":"rain","temperature":55.75,"apparentTemperature":55.75,"dewPoint":49.62,"humidity":0.8,"pressure":1004.8,"windSpeed":5.23,"windGust":5.26,"windBearing":169,"cloudCover":0.2,"uvIndex":0,"visibility":10,"ozone":309.2},{"time":1574305200,"summary":"Possible Light Rain","icon":"rain","precipIntensity":0.0279,"precipProbability":0.4,"precipType":"rain","temperature":54.77,"apparentTemperature":54.77,"dewPoint":49.28,"humidity":0.82,"pressure":1005.3,"windSpeed":5.11,"windGust":5.17,"windBearing":170,"cloudCover":0.19,"uvIndex":0,"visibility":10,"ozone":307.7},{"time":1574308800,"summary":"Possible Light Rain","icon":"rain","precipIntensity":0.0302,"precipProbability":0.45,"precipType":"rain","temperature":54.5,"apparentTemperature":54.5,"dewPoint":49.12,"humidity":0.82,"pressure":1005.8,"windSpeed":5.14,"windGust":5.25,"windBearing":164,"cloudCover":0.16,"uvIndex":0,"visibility":10,"ozone":305},{"time":1574312400,"summary":"Possible Light Rain","icon":"rain","precipIntensity":0.0293,"precipProbability":0.45,"precipType":"rain","temperature":54.19,"apparentTemperature":54.19,"dewPoint":49.28,"humidity":0.83,"pressure":1006.4,"windSpeed":5.26,"windGust":5.46,"windBearing":156,"cloudCover":0.14,"uvIndex":0,"visibility":10,"ozone":301.9},{"time":1574316000,"summary":"Possible Light Rain","icon":"rain","precipIntensity":0.025,"precipProbability":0.44,"precipType":"rain","temperature":53.75,"apparentTemperature":53.75,"dewPoint":49.63,"humidity":0.86,"pressure":1006.8,"windSpeed":5.48,"windGust":5.76,"windBearing":147,"cloudCover":0.19,"uvIndex":0,"visibility":10,"ozone":299.9},{"time":1574319600,"summary":"Possible Light Rain","icon":"rain","precipIntensity":0.017,"precipProbability":0.44,"precipType":"rain","temperature":53.46,"apparentTemperature":53.46,"dewPoint":50.14,"humidity":0.88,"pressure":1007.1,"windSpeed":5.84,"windGust":6.21,"windBearing":137,"cloudCover":0.41,"uvIndex":0,"visibility":10,"ozone":300.2}]},"daily":{"data":[{"time":1574236800,"summary":"Clear throughout the day.","icon":"rain","sunriseTime":1574260380,"sunsetTime":1574297340,"moonPhase":0.8,"precipIntensity":0.0116,"precipIntensityMax":0.0303,"precipIntensityMaxError":0.0693,"precipIntensityMaxTime":1574309700,"precipProbability":0.89,"precipType":"rain","temperatureHigh":61.45,"temperatureHighError":5.61,"temperatureHighTime":1574281080,"temperatureLow":52.19,"temperatureLowError":5.61,"temperatureLowTime":1574334900,"apparentTemperatureHigh":60.95,"apparentTemperatureHighTime":1574281080,"apparentTemperatureLow":52.68,"apparentTemperatureLowTime":1574334900,"dewPoint":51.84,"humidity":0.83,"pressure":1004.4,"windSpeed":6.15,"windGust":10.2,"windGustTime":1574237220,"windBearing":200,"cloudCover":0.42,"uvIndex":3,"uvIndexTime":1574279460,"visibility":10,"ozone":313.8,"temperatureMin":52.97,"temperatureMinError":5.61,"temperatureMinTime":1574319600,"temperatureMax":61.45,"temperatureMaxError":5.61,"temperatureMaxTime":1574281080,"apparentTemperatureMin":53.46,"apparentTemperatureMinTime":1574319600,"apparentTemperatureMax":60.95,"apparentTemperatureMaxTime":1574281080}]},"flags":{"sources":["cmc","gfs","hrrr","icon","isd","madis","nam","sref"],"nearest-station":1.623,"units":"us"},"offset":-8}`;
    var json_day5 = `{"latitude":34.0308,"longitude":-118.473,"timezone":"America/Los_Angeles","currently":{"time":1574367180,"summary":"Clear","icon":"clear-day","precipIntensity":0.0019,"precipProbability":0.06,"precipType":"rain","temperature":62.63,"apparentTemperature":62.63,"dewPoint":54.1,"humidity":0.74,"pressure":1010.9,"windSpeed":5.47,"windGust":6.04,"windBearing":127,"cloudCover":0.25,"uvIndex":3,"visibility":10,"ozone":278.5},"hourly":{"summary":"Possible light rain overnight and in the morning.","icon":"rain","data":[{"time":1574323200,"summary":"Possible Drizzle","icon":"rain","precipIntensity":0.0125,"precipProbability":0.44,"precipType":"rain","temperature":53.3,"apparentTemperature":53.3,"dewPoint":50.46,"humidity":0.9,"pressure":1007.2,"windSpeed":6.26,"windGust":6.79,"windBearing":128,"cloudCover":0.72,"uvIndex":0,"visibility":8.413,"ozone":301.6},{"time":1574326800,"summary":"Possible Drizzle","icon":"rain","precipIntensity":0.014,"precipProbability":0.44,"precipType":"rain","temperature":53.23,"apparentTemperature":53.23,"dewPoint":50.45,"humidity":0.9,"pressure":1007.2,"windSpeed":6.43,"windGust":7.13,"windBearing":121,"cloudCover":0.93,"uvIndex":0,"visibility":7.046,"ozone":301.7},{"time":1574330400,"summary":"Possible Light Rain","icon":"rain","precipIntensity":0.0165,"precipProbability":0.44,"precipType":"rain","temperature":53.08,"apparentTemperature":53.08,"dewPoint":50.38,"humidity":0.91,"pressure":1007.4,"windSpeed":6.25,"windGust":7.54,"windBearing":119,"cloudCover":0.92,"uvIndex":0,"visibility":6.459,"ozone":299.4},{"time":1574334000,"summary":"Possible Light Rain","icon":"rain","precipIntensity":0.018,"precipProbability":0.44,"precipType":"rain","temperature":52.7,"apparentTemperature":52.7,"dewPoint":50.38,"humidity":0.92,"pressure":1007.5,"windSpeed":5.84,"windGust":7.77,"windBearing":118,"cloudCover":0.82,"uvIndex":0,"visibility":6.462,"ozone":295.9},{"time":1574337600,"summary":"Possible Light Rain","icon":"rain","precipIntensity":0.0172,"precipProbability":0.4,"precipType":"rain","temperature":52.74,"apparentTemperature":52.74,"dewPoint":50.38,"humidity":0.92,"pressure":1007.7,"windSpeed":5.46,"windGust":7.67,"windBearing":117,"cloudCover":0.75,"uvIndex":0,"visibility":7.288,"ozone":292.6},{"time":1574341200,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0134,"precipProbability":0.37,"precipType":"rain","temperature":52.76,"apparentTemperature":52.76,"dewPoint":50.32,"humidity":0.91,"pressure":1008.2,"windSpeed":5.16,"windGust":6.95,"windBearing":114,"cloudCover":0.77,"uvIndex":0,"visibility":9.592,"ozone":289.8},{"time":1574344800,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.0085,"precipProbability":0.32,"precipType":"rain","temperature":52.82,"apparentTemperature":52.82,"dewPoint":50.23,"humidity":0.91,"pressure":1008.8,"windSpeed":4.91,"windGust":5.93,"windBearing":109,"cloudCover":0.82,"uvIndex":0,"visibility":10,"ozone":287.4},{"time":1574348400,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0049,"precipProbability":0.26,"precipType":"rain","temperature":53.45,"apparentTemperature":53.45,"dewPoint":50.37,"humidity":0.89,"pressure":1009.3,"windSpeed":4.77,"windGust":5.7,"windBearing":109,"cloudCover":0.84,"uvIndex":0,"visibility":10,"ozone":284.9},{"time":1574352000,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0025,"precipProbability":0.19,"precipType":"rain","temperature":55.01,"apparentTemperature":55.01,"dewPoint":51.26,"humidity":0.87,"pressure":1009.9,"windSpeed":4.87,"windGust":5.69,"windBearing":109,"cloudCover":0.8,"uvIndex":0,"visibility":10,"ozone":282.3},{"time":1574355600,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0011,"precipProbability":0.08,"precipType":"rain","temperature":57.13,"apparentTemperature":57.13,"dewPoint":52.4,"humidity":0.84,"pressure":1010.7,"windSpeed":5.08,"windGust":6.36,"windBearing":101,"cloudCover":0.73,"uvIndex":1,"visibility":10,"ozone":279.9},{"time":1574359200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0009,"precipProbability":0.06,"precipType":"rain","temperature":59.08,"apparentTemperature":59.08,"dewPoint":52.81,"humidity":0.8,"pressure":1011.1,"windSpeed":5.28,"windGust":6.84,"windBearing":98,"cloudCover":0.63,"uvIndex":2,"visibility":10,"ozone":278.2},{"time":1574362800,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.0012,"precipProbability":0.06,"precipType":"rain","temperature":60.81,"apparentTemperature":60.81,"dewPoint":53.48,"humidity":0.77,"pressure":1011.2,"windSpeed":5.38,"windGust":6.61,"windBearing":108,"cloudCover":0.47,"uvIndex":3,"visibility":10,"ozone":278},{"time":1574366400,"summary":"Clear","icon":"clear-day","precipIntensity":0.0018,"precipProbability":0.06,"precipType":"rain","temperature":62.39,"apparentTemperature":62.39,"dewPoint":54.06,"humidity":0.74,"pressure":1010.9,"windSpeed":5.45,"windGust":6.13,"windBearing":124,"cloudCover":0.28,"uvIndex":3,"visibility":10,"ozone":278.5},{"time":1574370000,"summary":"Clear","icon":"clear-day","precipIntensity":0.0021,"precipProbability":0.06,"precipType":"rain","temperature":63.19,"apparentTemperature":63.19,"dewPoint":54.02,"humidity":0.72,"pressure":1010.8,"windSpeed":5.53,"windGust":5.85,"windBearing":138,"cloudCover":0.14,"uvIndex":3,"visibility":10,"ozone":278.2},{"time":1574373600,"summary":"Clear","icon":"clear-day","precipIntensity":0.0014,"precipProbability":0.05,"precipType":"rain","temperature":62.73,"apparentTemperature":62.73,"dewPoint":53.63,"humidity":0.72,"pressure":1011.4,"windSpeed":5.62,"windGust":6.18,"windBearing":148,"cloudCover":0.09,"uvIndex":2,"visibility":10,"ozone":276.5},{"time":1574377200,"summary":"Clear","icon":"clear-day","precipIntensity":0.0007,"precipProbability":0.03,"precipType":"rain","temperature":61.54,"apparentTemperature":61.54,"dewPoint":53.01,"humidity":0.74,"pressure":1011.9,"windSpeed":5.7,"windGust":6.71,"windBearing":156,"cloudCover":0.09,"uvIndex":1,"visibility":10,"ozone":274},{"time":1574380800,"summary":"Clear","icon":"clear-day","precipIntensity":0.0006,"precipProbability":0.01,"precipType":"rain","temperature":60.09,"apparentTemperature":60.09,"dewPoint":52.69,"humidity":0.77,"pressure":1012.4,"windSpeed":5.62,"windGust":6.78,"windBearing":160,"cloudCover":0.09,"uvIndex":0,"visibility":10,"ozone":272.2},{"time":1574384400,"summary":"Clear","icon":"clear-night","precipIntensity":0.0004,"precipProbability":0.01,"precipType":"rain","temperature":58.59,"apparentTemperature":58.59,"dewPoint":51.71,"humidity":0.78,"pressure":1013,"windSpeed":5.31,"windGust":5.97,"windBearing":158,"cloudCover":0.07,"uvIndex":0,"visibility":10,"ozone":271.6},{"time":1574388000,"summary":"Clear","icon":"clear-night","precipIntensity":0.0003,"precipProbability":0.03,"precipType":"rain","temperature":56.92,"apparentTemperature":56.92,"dewPoint":50.85,"humidity":0.8,"pressure":1013.7,"windSpeed":4.84,"windGust":4.96,"windBearing":116,"cloudCover":0.05,"uvIndex":0,"visibility":10,"ozone":271.7},{"time":1574391600,"summary":"Clear","icon":"clear-night","precipIntensity":0.0002,"precipProbability":0.03,"precipType":"rain","temperature":55.59,"apparentTemperature":55.59,"dewPoint":49.87,"humidity":0.81,"pressure":1014.4,"windSpeed":4.34,"windGust":4.39,"windBearing":2,"cloudCover":0.03,"uvIndex":0,"visibility":10,"ozone":271.7},{"time":1574395200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":54.97,"apparentTemperature":54.97,"dewPoint":49.08,"humidity":0.8,"pressure":1014.9,"windSpeed":3.71,"windGust":3.73,"windBearing":348,"cloudCover":0.02,"uvIndex":0,"visibility":10,"ozone":271.5},{"time":1574398800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":54.44,"apparentTemperature":54.44,"dewPoint":48.69,"humidity":0.81,"pressure":1015.5,"windSpeed":3.06,"windGust":3.06,"windBearing":339,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":271.1},{"time":1574402400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":53.61,"apparentTemperature":53.61,"dewPoint":48.7,"humidity":0.83,"pressure":1015.6,"windSpeed":2.6,"windGust":2.6,"windBearing":327,"cloudCover":0.02,"uvIndex":0,"visibility":10,"ozone":271.1},{"time":1574406000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":52.97,"apparentTemperature":52.97,"dewPoint":48.82,"humidity":0.86,"pressure":1016,"windSpeed":2.54,"windGust":2.54,"windBearing":69,"cloudCover":0.3,"uvIndex":0,"visibility":10,"ozone":272}]},"daily":{"data":[{"time":1574323200,"summary":"Clear throughout the day.","icon":"rain","sunriseTime":1574346840,"sunsetTime":1574383740,"moonPhase":0.84,"precipIntensity":0.0049,"precipIntensityMax":0.018,"precipIntensityMaxError":0.0693,"precipIntensityMaxTime":1574334720,"precipProbability":0.79,"precipType":"rain","temperatureHigh":63.69,"temperatureHighError":5.62,"temperatureHighTime":1574370360,"temperatureLow":48.85,"temperatureLowError":5.62,"temperatureLowTime":1574431080,"apparentTemperatureHigh":63.19,"apparentTemperatureHighTime":1574370360,"apparentTemperatureLow":48.46,"apparentTemperatureLowTime":1574430720,"dewPoint":51.24,"humidity":0.83,"pressure":1011.1,"windSpeed":5.03,"windGust":7.79,"windGustTime":1574335260,"windBearing":118,"cloudCover":0.43,"uvIndex":3,"uvIndexTime":1574366100,"visibility":9.387,"ozone":281.1,"temperatureMin":52.19,"temperatureMinError":5.61,"temperatureMinTime":1574334900,"temperatureMax":63.69,"temperatureMaxError":5.62,"temperatureMaxTime":1574370360,"apparentTemperatureMin":52.68,"apparentTemperatureMinTime":1574334900,"apparentTemperatureMax":63.19,"apparentTemperatureMaxTime":1574370360}]},"flags":{"sources":["cmc","gfs","hrrr","icon","isd","madis","nam","sref"],"nearest-station":1.623,"units":"us"},"offset":-8}`;
    var json_day6 = `{"latitude":34.0308,"longitude":-118.473,"timezone":"America/Los_Angeles","currently":{"time":1574453580,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":65.8,"apparentTemperature":65.8,"dewPoint":53.22,"humidity":0.64,"pressure":1019.2,"windSpeed":3.67,"windGust":3.98,"windBearing":181,"cloudCover":0.16,"uvIndex":3,"visibility":10,"ozone":277.3},"hourly":{"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","data":[{"time":1574409600,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":52.31,"apparentTemperature":52.31,"dewPoint":48.73,"humidity":0.88,"pressure":1016.6,"windSpeed":2.69,"windGust":2.69,"windBearing":29,"cloudCover":0.68,"uvIndex":0,"visibility":10,"ozone":273.2},{"time":1574413200,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":51.95,"apparentTemperature":51.95,"dewPoint":48.57,"humidity":0.88,"pressure":1016.9,"windSpeed":2.89,"windGust":2.89,"windBearing":355,"cloudCover":0.96,"uvIndex":0,"visibility":10,"ozone":274.1},{"time":1574416800,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":51.46,"apparentTemperature":51.46,"dewPoint":48.44,"humidity":0.89,"pressure":1017.1,"windSpeed":3.05,"windGust":3.05,"windBearing":3,"cloudCover":0.98,"uvIndex":0,"visibility":10,"ozone":274.4},{"time":1574420400,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":50.92,"apparentTemperature":50.92,"dewPoint":48.36,"humidity":0.91,"pressure":1017.3,"windSpeed":3.27,"windGust":3.27,"windBearing":14,"cloudCover":0.98,"uvIndex":0,"visibility":10,"ozone":274.3},{"time":1574424000,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":50.59,"apparentTemperature":50.59,"dewPoint":48.23,"humidity":0.92,"pressure":1017.5,"windSpeed":3.41,"windGust":3.41,"windBearing":20,"cloudCover":0.98,"uvIndex":0,"visibility":10,"ozone":274.4},{"time":1574427600,"summary":"Overcast","icon":"cloudy","precipIntensity":0.0002,"precipProbability":0.02,"precipType":"rain","temperature":49.9,"apparentTemperature":49.15,"dewPoint":47.71,"humidity":0.92,"pressure":1018.2,"windSpeed":3.48,"windGust":3.48,"windBearing":11,"cloudCover":0.98,"uvIndex":0,"visibility":10,"ozone":274.5},{"time":1574431200,"summary":"Overcast","icon":"cloudy","precipIntensity":0.0002,"precipProbability":0.02,"precipType":"rain","temperature":49.34,"apparentTemperature":48.49,"dewPoint":47.14,"humidity":0.92,"pressure":1018.9,"windSpeed":3.5,"windGust":3.51,"windBearing":0,"cloudCover":0.98,"uvIndex":0,"visibility":10,"ozone":274.7},{"time":1574434800,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":50.04,"apparentTemperature":50.04,"dewPoint":47.38,"humidity":0.91,"pressure":1019.3,"windSpeed":3.34,"windGust":3.34,"windBearing":2,"cloudCover":0.98,"uvIndex":0,"visibility":10,"ozone":275},{"time":1574438400,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":52.92,"apparentTemperature":52.92,"dewPoint":48.49,"humidity":0.85,"pressure":1019.8,"windSpeed":2.76,"windGust":2.78,"windBearing":28,"cloudCover":0.87,"uvIndex":0,"visibility":10,"ozone":275.2},{"time":1574442000,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":57.4,"apparentTemperature":57.4,"dewPoint":50.81,"humidity":0.79,"pressure":1020.1,"windSpeed":2.01,"windGust":2.15,"windBearing":69,"cloudCover":0.71,"uvIndex":1,"visibility":10,"ozone":275.6},{"time":1574445600,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":60.83,"apparentTemperature":60.83,"dewPoint":52.02,"humidity":0.73,"pressure":1020.3,"windSpeed":1.73,"windGust":1.98,"windBearing":40,"cloudCover":0.55,"uvIndex":2,"visibility":10,"ozone":276},{"time":1574449200,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":63.4,"apparentTemperature":63.4,"dewPoint":52.88,"humidity":0.69,"pressure":1020,"windSpeed":2.36,"windGust":2.63,"windBearing":134,"cloudCover":0.37,"uvIndex":3,"visibility":10,"ozone":276.5},{"time":1574452800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":65.49,"apparentTemperature":65.49,"dewPoint":53.22,"humidity":0.65,"pressure":1019.3,"windSpeed":3.46,"windGust":3.75,"windBearing":175,"cloudCover":0.19,"uvIndex":3,"visibility":10,"ozone":277.2},{"time":1574456400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":66.47,"apparentTemperature":66.47,"dewPoint":53.04,"humidity":0.62,"pressure":1018.8,"windSpeed":4.34,"windGust":4.78,"windBearing":202,"cloudCover":0.06,"uvIndex":3,"visibility":10,"ozone":277.7},{"time":1574460000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":65.89,"apparentTemperature":65.89,"dewPoint":52.41,"humidity":0.62,"pressure":1018.5,"windSpeed":4.8,"windGust":6.08,"windBearing":227,"cloudCover":0.03,"uvIndex":2,"visibility":10,"ozone":277.6},{"time":1574463600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":64.42,"apparentTemperature":64.42,"dewPoint":51.77,"humidity":0.64,"pressure":1018.3,"windSpeed":5.12,"windGust":7.55,"windBearing":246,"cloudCover":0.03,"uvIndex":1,"visibility":10,"ozone":277.3},{"time":1574467200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":62.69,"apparentTemperature":62.69,"dewPoint":51.35,"humidity":0.66,"pressure":1018.3,"windSpeed":5.29,"windGust":8.52,"windBearing":232,"cloudCover":0.03,"uvIndex":0,"visibility":10,"ozone":277.1},{"time":1574470800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":60.76,"apparentTemperature":60.76,"dewPoint":50.95,"humidity":0.7,"pressure":1018.6,"windSpeed":5.41,"windGust":8.84,"windBearing":153,"cloudCover":0.02,"uvIndex":0,"visibility":10,"ozone":276.6},{"time":1574474400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":58.58,"apparentTemperature":58.58,"dewPoint":50.06,"humidity":0.73,"pressure":1019.1,"windSpeed":5.39,"windGust":8.66,"windBearing":24,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":276.1},{"time":1574478000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":56.81,"apparentTemperature":56.81,"dewPoint":50.01,"humidity":0.78,"pressure":1019.5,"windSpeed":5.1,"windGust":7.92,"windBearing":308,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":276},{"time":1574481600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":56.17,"apparentTemperature":56.17,"dewPoint":49.7,"humidity":0.79,"pressure":1019.8,"windSpeed":4.26,"windGust":6.14,"windBearing":307,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":276.7},{"time":1574485200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":56.15,"apparentTemperature":56.15,"dewPoint":49.65,"humidity":0.79,"pressure":1020,"windSpeed":3.13,"windGust":3.78,"windBearing":353,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":278.1},{"time":1574488800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":55.86,"apparentTemperature":55.86,"dewPoint":49.68,"humidity":0.8,"pressure":1020.2,"windSpeed":2.39,"windGust":2.57,"windBearing":23,"cloudCover":0.09,"uvIndex":0,"visibility":10,"ozone":279.1},{"time":1574492400,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":55.43,"apparentTemperature":55.43,"dewPoint":49.79,"humidity":0.81,"pressure":1020.1,"windSpeed":2.47,"windGust":2.66,"windBearing":28,"cloudCover":0.33,"uvIndex":0,"visibility":10,"ozone":279.3}]},"daily":{"data":[{"time":1574409600,"summary":"Clear throughout the day.","icon":"partly-cloudy-day","sunriseTime":1574433300,"sunsetTime":1574470080,"moonPhase":0.87,"precipIntensity":0.0001,"precipIntensityMax":0.0002,"precipIntensityMaxError":0.0693,"precipIntensityMaxTime":1574429400,"precipProbability":0.05,"precipType":"rain","temperatureHigh":66.98,"temperatureHighError":5.62,"temperatureHighTime":1574456760,"temperatureLow":50.77,"temperatureLowError":5.62,"temperatureLowTime":1574518740,"apparentTemperatureHigh":66.48,"apparentTemperatureHighTime":1574456760,"apparentTemperatureLow":51.26,"apparentTemperatureLowTime":1574518740,"dewPoint":50.05,"humidity":0.78,"pressure":1018.9,"windSpeed":3.61,"windGust":8.85,"windGustTime":1574471340,"windBearing":341,"cloudCover":0.45,"uvIndex":3,"uvIndexTime":1574452440,"visibility":10,"ozone":276.1,"temperatureMin":48.85,"temperatureMinError":5.62,"temperatureMinTime":1574431080,"temperatureMax":66.98,"temperatureMaxError":5.62,"temperatureMaxTime":1574456760,"apparentTemperatureMin":48.46,"apparentTemperatureMinTime":1574430720,"apparentTemperatureMax":66.48,"apparentTemperatureMaxTime":1574456760}]},"flags":{"sources":["cmc","gfs","hrrr","icon","isd","madis","nam","sref"],"nearest-station":1.623,"units":"us"},"offset":-8}`;
    sessionStorage.setItem('current', json_current);
    sessionStorage.setItem('day0', json_day0);
    sessionStorage.setItem('day1', json_day1);
    sessionStorage.setItem('day2', json_day2);
    sessionStorage.setItem('day3', json_day3);
    sessionStorage.setItem('day4', json_day4);
    sessionStorage.setItem('day5', json_day5);
    sessionStorage.setItem('day6', json_day6);
    sessionStorage.setItem('seal', 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Seal_of_New_York.svg/2000px-Seal_of_New_York.svg.png');
    
    this.seal = sessionStorage.seal;
    this.current = sessionStorage.current;
    // console.log('this.seal', this.seal);

    this.prog_bar = false;
    // var current = JSON.parse(sessionStorage.current);
    // console.log(current)

    var current_weather_obj = JSON.parse(sessionStorage.current);
    this.cur_temp = Math.round(current_weather_obj['currently']['temperature']);
    this.cur_city = sessionStorage.city;
    this.cur_tz = current_weather_obj['timezone']
    this.cur_status = current_weather_obj['currently']['summary']
    this.cur_humidity = current_weather_obj['currently']['humidity']
    this.cur_pressure = current_weather_obj['currently']['pressure']
    this.cur_wind = current_weather_obj['currently']['windSpeed']
    this.cur_visibility = current_weather_obj['currently']['visibility']
    this.cur_cloud = current_weather_obj['currently']['cloudCover']
    this.cur_ozone = current_weather_obj['currently']['ozone']

    var msg = "The current temperature at " + String(this.cur_city) + " is " + String(this.cur_temp) + "°F. The weather conditions are " + String(this.cur_status) + ". #CSCI571WeatherSearch"
    this.tweet = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(msg);

    this.makeChart()
    this.makeWeeklyChart()
  }

  setFavorite() {
    // console.log("got clicked")
    var not_in_favs = true;
    var favorites_data = JSON.parse(sessionStorage.favorites).data;
    var i = 0;
    while((i < favorites_data.length) && (not_in_favs == true)){
      {
        if((favorites_data[i]['city'] == sessionStorage.city) && (favorites_data[i]['state'] == sessionStorage.stateCode)){
          not_in_favs = false;
        }
        i++
      }
    }

    if (not_in_favs) {
      this.favorite = 'star';
      var favorites = JSON.parse(sessionStorage.favorites);
      // console.log(favorites)
      favorites.data.push({'id': favorites.data.length + 1, 'image': sessionStorage.seal, 'city': sessionStorage.city, 'state': sessionStorage.stateCode, 'wishlist': 'restore_from_trash', 'link': sessionStorage.thisLink});
      sessionStorage.favorites = JSON.stringify(favorites)
    }
  }

  ngOnInit() {

    this.twitter = 'https://cfcdnpull-creativefreedoml.netdna-ssl.com/wp-content/uploads/2017/06/Twitter-featured.png';
    
    var not_in_favs = true;
    var favorites_data = JSON.parse(sessionStorage.favorites).data;
    var i = 0;
    while((i < favorites_data.length) && (not_in_favs == true)){
      {
        if((favorites_data[i]['city'] == sessionStorage.city) && (favorites_data[i]['state'] == sessionStorage.stateCode)){
          not_in_favs = false;
        }
        i++
      }
    }

    if (not_in_favs == true){
      this.favorite = 'star_border';
    } else {
      this.favorite = 'star';
    }
      
    this.activatedRoute.queryParams.subscribe(params => {
      const url = params['url'];
      console.log('is this url trouble?')
      console.log(url)
      // const state_code = 'CA'
      // NEED TO GET STATE CODE IN HERE FROM this.state_json[this.input_state['name']]
      this.getWeather(url, sessionStorage.stateCode);
      // this.makeChart()
      // this.makeWeeklyChart()
      // this.stateCode = sessionStorage.stateCode;
      // console.log('state', this.stateCode);
    });

    (this.wk_options as any).onClick = (event, item) => {
      var symbols = {
        'clear-day': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-12-512.png', 
        'clear-night': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-12-512.png',
        'rain': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-04-512.png',
        'snow': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-19-512.png',
        'sleet': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-07-512.png',
        'wind': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-27-512.png',
        'fog': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-28-512.png',
        'cloudy': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-01-512.png',
        'partly-cloudy-day': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-02-512.png',
        'partly-cloudy-night': 'https://cdn2.iconfinder.com/data/icons/weather-74/24/weather-02-512.png'
      }
      var data = JSON.parse(sessionStorage.getItem('day' + String(item[0]['_index'])))
      var prec_val = "Heavy";
      if (data["currently"]["precipIntensity"] <=0.001 ) {
				prec_val = "0";
			} else if (data["currently"]["precipIntensity"] <=0.015) {
				prec_val = "Very Light";
			} else if (data["currently"]["precipIntensity"] <=0.05 ) {
				prec_val = "Light";
			} else if (data["currently"]["precipIntensity"] <=0.1 ) {
				prec_val = "Moderate";
			} else {
				prec_val = "Heavy";
			}

      var info = {
        'date': item[0]['_model'].label,
        'city': sessionStorage.city,
        'temp': Math.round(data["currently"]["temperature"]),
        'status': data["currently"]["summary"],
        'icon': symbols[data["currently"]["icon"]],
        'precip': prec_val,
        'chance': data["currently"]["precipIntensity"]*100,
        'wind': data["currently"]["windSpeed"],
        'humidity': Math.round(data["currently"]["humidity"]*100),
        'visibility': data["currently"]["visibility"]
    }
      // console.log(item);
      // console.log(sessionStorage.current)
      // this.openModal(item[0]['_model'].label);
      this.openModal(info);
    }
  }
}
